var x=Object.defineProperty;var M=(p,o,t)=>o in p?x(p,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[o]=t;var v=(p,o,t)=>(M(p,typeof o!="symbol"?o+"":o,t),t);import{N as A,I as h,T as F,b as S,L as k,A as H,c as y,O as N,d as W,F as j,e as G,C,M as b,f as s,s as V}from"./test1.c7205b13.js";import"../entry/index.2385e6f2.js";class D extends A{constructor(o={shadowColor:C.Black(),meshColor:C.White()},t){super("node",t);const e=new h("position");e.visibleInInspector=!1,e.visibleOnFrame=!1,e.target=1,e.setAsAttribute("position");const n=new F("worldPos");n.visibleInInspector=!1,n.visibleOnFrame=!1,n.target=1,n.complementZ=0,n.complementW=1;const d=new h("world");d.visibleInInspector=!1,d.visibleOnFrame=!1,d.target=1,d.setAsSystemValue(S.World);const a=new F("World normal");a.visibleInInspector=!1,a.visibleOnFrame=!1,a.target=1,a.complementZ=0,a.complementW=0;const L=new h("normal");L.visibleInInspector=!1,L.visibleOnFrame=!1,L.target=1,L.setAsAttribute("normal");const r=new k("Lights");r.visibleInInspector=!1,r.visibleOnFrame=!1,r.target=3;const O=new h("cameraPosition");O.visibleInInspector=!1,O.visibleOnFrame=!1,O.target=1,O.setAsSystemValue(S.CameraPosition);const m=new H("Add");m.visibleInInspector=!1,m.visibleOnFrame=!1,m.target=4;const u=new y("Scale");u.visibleInInspector=!1,u.visibleOnFrame=!1,u.target=4;const g=new h("Mesh color");g.visibleInInspector=!1,g.visibleOnFrame=!1,g.target=1,g.value=o.meshColor,g.isConstant=!1;const f=new y("Scale");f.visibleInInspector=!1,f.visibleOnFrame=!1,f.target=4;const w=new y("Scale");w.visibleInInspector=!1,w.visibleOnFrame=!1,w.target=4;const I=new h("Shadow color");I.visibleInInspector=!0,I.visibleOnFrame=!1,I.target=1,I.value=o.shadowColor,I.isConstant=!1;const T=new N("One minus");T.visibleInInspector=!1,T.visibleOnFrame=!1,T.target=4;const i=new h("Shadow color strength");i.visibleInInspector=!1,i.visibleOnFrame=!1,i.target=1,i.value=1,i.min=0,i.max=1,i.isBoolean=!1,i.matrixMode=0,i.animationType=W.None,i.isConstant=!1;const l=new j("fragmentOutput");l.visibleInInspector=!1,l.visibleOnFrame=!1,l.target=2,l.convertToGammaSpace=!1,l.convertToLinearSpace=!1,l.useLogarithmicDepth=!1;const c=new F("worldPos * viewProjectionTransform");c.visibleInInspector=!1,c.visibleOnFrame=!1,c.target=1,c.complementZ=0,c.complementW=1;const B=new h("viewProjection");B.visibleInInspector=!1,B.visibleOnFrame=!1,B.target=1,B.setAsSystemValue(S.ViewProjection);const P=new G("vertexOutput");P.visibleInInspector=!1,P.visibleOnFrame=!1,P.target=1,e.output.connectTo(n.vector),d.output.connectTo(n.transform),n.output.connectTo(c.vector),B.output.connectTo(c.transform),c.output.connectTo(P.vector),g.output.connectTo(u.input),n.output.connectTo(r.worldPosition),L.output.connectTo(a.vector),d.output.connectTo(a.transform),a.output.connectTo(r.worldNormal),O.output.connectTo(r.cameraPosition),r.shadow.connectTo(u.factor),u.output.connectTo(m.left),I.output.connectTo(w.input),r.shadow.connectTo(T.input),T.output.connectTo(w.factor),w.output.connectTo(f.input),i.output.connectTo(f.factor),f.output.connectTo(m.right),m.output.connectTo(l.rgb),this.addOutputNode(P),this.addOutputNode(l),this.build()}}var Z=D;class z{constructor(o,t){v(this,"scene");v(this,"sideVerticalLength",40);v(this,"sideHorizontalLength",40);v(this,"deepLength",10);v(this,"groundBoard");this.scene=o,this.sideVerticalLength=(t==null?void 0:t.v)||this.sideVerticalLength,this.sideHorizontalLength=(t==null?void 0:t.h)||this.sideHorizontalLength,this.deepLength=(t==null?void 0:t.d)||this.deepLength;{let e=b.CreateGround("ground",{width:this.deepLength,height:this.sideVerticalLength});e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.receiveShadows=!0,e.material=new Z({shadowColor:new C(...V).scale(.94),meshColor:new C(...V)},o),this.groundBoard=e}{let e=b.CreatePlane("wallRight",{width:this.deepLength,height:this.sideHorizontalLength,sideOrientation:0});e.renderingGroupId=99,e.position.y=this.sideHorizontalLength/2,e.position.z=this.sideVerticalLength/2,e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.isVisible=!1}{let e=b.CreatePlane("wallLeft",{width:this.deepLength,height:this.sideHorizontalLength,sideOrientation:1});e.renderingGroupId=99,e.position.y=this.sideHorizontalLength/2,e.position.z=-this.sideVerticalLength/2,e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.isVisible=!1}{let e=b.CreatePlane("wallBack",{width:this.sideVerticalLength,height:this.sideHorizontalLength,sideOrientation:1});e.renderingGroupId=99,e.position.y=this.sideHorizontalLength/2,e.position.x=-this.deepLength/2,e.rotation.y=Math.PI/2,e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.isVisible=!1}{let e=b.CreatePlane("wallLimit",{width:this.sideVerticalLength,height:this.sideHorizontalLength,sideOrientation:0});e.position.y=this.sideHorizontalLength/2,e.rotation.y=Math.PI/2,e.position.x=this.deepLength/2,e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.isVisible=!1}{let e=b.CreatePlane("wallLimitTop",{width:this.deepLength,height:this.sideVerticalLength,sideOrientation:1});e.position.y=this.sideHorizontalLength,e.rotation.x=Math.PI/2,e.physicsImpostor=new s(e,s.BoxImpostor,{mass:0,restitution:1,friction:1}),e.isVisible=!1}}}export{z as default};
