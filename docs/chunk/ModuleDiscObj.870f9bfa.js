var u=Object.defineProperty;var p=(o,s,i)=>s in o?u(o,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[s]=i;var t=(o,s,i)=>(p(o,typeof s!="symbol"?s+"":s,i),i);import"./ExtrasAsMetadata.bbca5d47.js";import{g as M,S as b,C as r,h as y,i as P,V as d,f as n,M as c}from"./test1.c7205b13.js";import"../entry/index.2385e6f2.js";class A{constructor(s,i){t(this,"scene");t(this,"mesh");t(this,"subPhysicMeshes",[]);t(this,"shadowMesh");t(this,"springStickPosition");t(this,"staticStickPosition");t(this,"modulePromise");this.scene=i;const e={x:0,y:0,z:0};this.mesh=new M("moduleDiscObj",this.scene),this.mesh.isVisible=!1;const m=new b("");m.alpha=.5,m.emissiveColor=r.Red(),this.buildSubMesh(s),this.subPhysicMeshes.forEach(a=>{a.isVisible=!1}),this.modulePromise=y.LoadAssetContainerAsync("/module/",this.getModuleName(s),this.scene).then(a=>{a.addAllToScene();const h=a.meshes[1];this.shadowMesh=h,h.name="letter-"+s,h.receiveShadows=!0,console.log(h.material),h.material instanceof P&&(h.material.ambientColor=r.White().scale(1)),this.mesh.addChild(h),this.subPhysicMeshes.forEach(l=>{this.mesh.addChild(l)}),this.mesh.setAbsolutePosition(new d(e.x,e.y,e.z)),this.mesh.scaling=d.One().scale(8)})}usePhysicsImpostor(){this.mesh.physicsImpostor||(this.subPhysicMeshes.forEach(s=>s.physicsImpostor=new n(s,n.BoxImpostor)),this.mesh.physicsImpostor=new n(this.mesh,n.NoImpostor,{mass:1,friction:1,restitution:0},this.scene))}buildSubMesh(s){let i=0;switch(s){case"A":{{const e=c.CreateBox("A1",{height:.76,width:.22,depth:.1},this.scene);e.name=s+i++,e.rotation.x=Math.PI/180*23,e.position.z-=.14,e.position.y+=.08,this.subPhysicMeshes.push(e)}{const e=c.CreateBox("A2",{height:.76,width:.22,depth:.1},this.scene);e.name=s+i++,e.rotation.x=-Math.PI/180*23,e.position.z+=.14,e.position.y+=.08,this.subPhysicMeshes.push(e)}{const e=c.CreateBox("A3",{height:.1,width:.22,depth:.4},this.scene);e.name=s+i++,e.position.y-=.005,this.subPhysicMeshes.push(e)}}}}getModuleName(s){switch(s){case"A":return"letterA.gltf"}throw"no matched module"}}export{A as default};
