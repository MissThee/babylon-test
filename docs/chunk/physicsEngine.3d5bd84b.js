import{V as r,b as p}from"./test1.990751a6.js";var u=function(){function s(t,i){if(i===void 0&&(i=s.DefaultPluginFactory()),this._physicsPlugin=i,this._impostors=[],this._joints=[],this._subTimeStep=0,this._uniqueIdCounter=0,!this._physicsPlugin.isSupported())throw new Error("Physics Engine "+this._physicsPlugin.name+" cannot be found. Please make sure it is included.");t=t||new r(0,-9.807,0),this.setGravity(t),this.setTimeStep()}return s.DefaultPluginFactory=function(){throw p("CannonJSPlugin")},s.prototype.setGravity=function(t){this.gravity=t,this._physicsPlugin.setGravity(this.gravity)},s.prototype.setTimeStep=function(t){t===void 0&&(t=1/60),this._physicsPlugin.setTimeStep(t)},s.prototype.getTimeStep=function(){return this._physicsPlugin.getTimeStep()},s.prototype.setSubTimeStep=function(t){t===void 0&&(t=0),this._subTimeStep=t},s.prototype.getSubTimeStep=function(){return this._subTimeStep},s.prototype.dispose=function(){this._impostors.forEach(function(t){t.dispose()}),this._physicsPlugin.dispose()},s.prototype.getPhysicsPluginName=function(){return this._physicsPlugin.name},s.prototype.addImpostor=function(t){this._impostors.push(t),t.uniqueId=this._uniqueIdCounter++,t.parent||this._physicsPlugin.generatePhysicsBody(t)},s.prototype.removeImpostor=function(t){var i=this._impostors.indexOf(t);if(i>-1){var o=this._impostors.splice(i,1);o.length&&this.getPhysicsPlugin().removePhysicsBody(t)}},s.prototype.addJoint=function(t,i,o){var n={mainImpostor:t,connectedImpostor:i,joint:o};o.physicsPlugin=this._physicsPlugin,this._joints.push(n),this._physicsPlugin.generateJoint(n)},s.prototype.removeJoint=function(t,i,o){var n=this._joints.filter(function(e){return e.connectedImpostor===i&&e.joint===o&&e.mainImpostor===t});n.length&&this._physicsPlugin.removeJoint(n[0])},s.prototype._step=function(t){var i=this;this._impostors.forEach(function(o){o.isBodyInitRequired()&&i._physicsPlugin.generatePhysicsBody(o)}),t>.1?t=.1:t<=0&&(t=1/60),this._physicsPlugin.executeStep(t,this._impostors)},s.prototype.getPhysicsPlugin=function(){return this._physicsPlugin},s.prototype.getImpostors=function(){return this._impostors},s.prototype.getImpostorForPhysicsObject=function(t){for(var i=0;i<this._impostors.length;++i)if(this._impostors[i].object===t)return this._impostors[i];return null},s.prototype.getImpostorWithPhysicsBody=function(t){for(var i=0;i<this._impostors.length;++i)if(this._impostors[i].physicsBody===t)return this._impostors[i];return null},s.prototype.raycast=function(t,i){return this._physicsPlugin.raycast(t,i)},s.Epsilon=.001,s}();export{u as P};
