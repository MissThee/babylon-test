var u=Object.defineProperty;var l=(h,s,t)=>s in h?u(h,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[s]=t;var o=(h,s,t)=>(l(h,typeof s!="symbol"?s+"":s,t),t);import"./@babylonjsloaders_glTF.17c9ebe7.js";import"./@babylonjscore_abstractScene.a7cd866f.js";import"./@babylonjscore_Actions.0e30626e.js";import"./@babylonjscore_Animations.ea9e461f.js";import{C as p,a as n}from"./@babylonjscore_Maths.42afce42.js";import"./@babylonjscore_assetContainer.d20cb31c.js";import"./@babylonjscore_Engines.a7c830c0.js";import"./@babylonjscore_Misc.329df4d9.js";import"./@babylonjscore_Audio.9f08a7b4.js";import"./@babylonjscore_BakedVertexAnimation.a09f0759.js";import{S as M}from"./@babylonjscore_Materials.49fd589a.js";import"./@babylonjscore_Behaviors.d1a939c8.js";import"./@babylonjscore_Bones.5bf57496.js";import"./@babylonjscore_Buffers.c351261b.js";import"./@babylonjscore_Cameras.c6ce826c.js";import"./@babylonjscore_PostProcesses.028f5b5f.js";import"./@babylonjscore_Collisions.8a0e928d.js";import"./@babylonjscore_Compute.21a77b9f.js";import"./@babylonjscore_Culling.f738e368.js";import"./@babylonjscore_Debug.e3f8c61d.js";import{M as b,p as a}from"./@babylonjscore_Meshes.896ebf22.js";import{P as m}from"./@babylonjscore_Physics.061917a4.js";import"./@babylonjscore_Rendering.98162e5e.js";import"./@babylonjscore_DeviceInput.667dddf3.js";import"./@babylonjscore_Events.9219334a.js";import"./@babylonjscore_Gamepads.ed4be94a.js";import"./@babylonjscore_Gizmos.7b07042e.js";import"./@babylonjscore_Helpers.60c56b38.js";import"./@babylonjscore_Instrumentation.d039f990.js";import"./@babylonjscore_Layers.54d46376.js";import"./@babylonjscore_LensFlares.e51ac091.js";import"./@babylonjscore_Lights.ab9a75bc.js";import{S as y}from"./@babylonjscore_Loading.1653106a.js";import"./@babylonjscore_Morph.1da5b78b.js";import"./@babylonjscore_node.43bedde8.js";import"./@babylonjscore_Offline.0f165c7b.js";import"./@babylonjscore_Particles.6d203a63.js";import"./@babylonjscore_Probes.734673ea.js";import"./@babylonjscore_scene.b072ee35.js";import"./@babylonjscore_sceneComponent.5f0854c6.js";import"./@babylonjscore_Sprites.8b4ad5c7.js";import"./@babylonjscore_States.f9db8fc7.js";import"./@babylonjscore_Shaders.eb9cec10.js";import"./@babylonjscore_XR.48ea8f9c.js";import"./@babylonjscore_Compat.1e5a884f.js";import"./tslibtslib.b6e59fa7.js";import"./@babylonjscore_ShadersWGSL.7b1bee3a.js";import"./@babylonjscore_Inputs.a1677f61.js";class us{constructor(s,t){o(this,"scene");o(this,"mesh");o(this,"subPhysicMeshes",[]);o(this,"shadowMesh");o(this,"springStickPosition");o(this,"staticStickPosition");o(this,"modulePromise");this.scene=t;const i={x:0,y:0,z:0};this.mesh=new b("wrapperMesh",this.scene),this.mesh.isVisible=!1;const c=new M("");c.alpha=.5,c.emissiveColor=p.Red(),this.buildSubMesh(s),this.subPhysicMeshes.forEach(r=>{r.isVisible=!1}),this.modulePromise=y.LoadAssetContainerAsync("/module/",this.getModuleName(s),this.scene).then(r=>{r.addAllToScene();const e=r.meshes[1];this.shadowMesh=e,e.name="letter-"+s,e.receiveShadows=!0,e.material&&(e.material.ambientColor=p.White(),e.material.specularColor=p.Black()),this.mesh.addChild(e),this.subPhysicMeshes.forEach(d=>{this.mesh.addChild(d)}),this.mesh.setAbsolutePosition(new n(i.x,i.y,i.z)),this.mesh.scaling=n.One().scale(8)})}usePhysicsImpostor(){this.mesh.physicsImpostor||(this.subPhysicMeshes.forEach(s=>s.physicsImpostor=new m(s,m.BoxImpostor)),this.mesh.physicsImpostor=new m(this.mesh,m.NoImpostor,{mass:1,friction:1,restitution:0},this.scene))}buildSubMesh(s){let t=0;switch(s){case"A":{{const i=a.CreateBox("A1",{height:.76,width:.22,depth:.1},this.scene);i.name=s+t++,i.rotation.x=Math.PI/180*23,i.position.z-=.14,i.position.y+=.08,this.subPhysicMeshes.push(i)}{const i=a.CreateBox("A2",{height:.76,width:.22,depth:.1},this.scene);i.name=s+t++,i.rotation.x=-Math.PI/180*23,i.position.z+=.14,i.position.y+=.08,this.subPhysicMeshes.push(i)}{const i=a.CreateBox("A3",{height:.1,width:.22,depth:.4},this.scene);i.name=s+t++,i.position.y-=.005,this.subPhysicMeshes.push(i)}}}}getModuleName(s){switch(s){case"A":return"letterA.gltf"}throw"no matched module"}}export{us as default};
