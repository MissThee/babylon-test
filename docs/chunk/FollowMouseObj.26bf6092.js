var n=Object.defineProperty;var p=(i,t,e)=>t in i?n(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>(p(i,typeof t!="symbol"?t+"":t,e),e);import"./@babylonjscore_abstractScene.d5c48c49.js";import"./@babylonjscore_Actions.7cce3f43.js";import"./@babylonjscore_Animations.615099a9.js";import{a as r,C as c,M as h}from"./@babylonjscore_Maths.f3ef132c.js";import"./@babylonjscore_assetContainer.cba3bd62.js";import"./@babylonjscore_Engines.7287f97a.js";import"./@babylonjscore_Misc.d81f49ec.js";import"./@babylonjscore_Audio.4b8bc6d9.js";import"./@babylonjscore_BakedVertexAnimation.61d84081.js";import{S as l}from"./@babylonjscore_Materials.00e32dae.js";import"./@babylonjscore_Behaviors.df7c289a.js";import"./@babylonjscore_Bones.4bdc5845.js";import"./@babylonjscore_Buffers.f937a5fd.js";import"./@babylonjscore_Cameras.db49b33d.js";import"./@babylonjscore_PostProcesses.4413212a.js";import"./@babylonjscore_Collisions.6bd46217.js";import"./@babylonjscore_Compute.71e01459.js";import"./@babylonjscore_Culling.457ad209.js";import"./@babylonjscore_Debug.c6d392dc.js";import{p as u}from"./@babylonjscore_Meshes.307935b5.js";import{P as m}from"./@babylonjscore_Physics.24606c9c.js";import"./@babylonjscore_Rendering.3a43e73e.js";import"./@babylonjscore_DeviceInput.c0f43152.js";import{P as d}from"./@babylonjscore_Events.8e5561d2.js";import"./@babylonjscore_Gamepads.ef488051.js";import"./@babylonjscore_Gizmos.8d63c4cf.js";import"./@babylonjscore_Helpers.51c9113b.js";import"./@babylonjscore_Instrumentation.93aca872.js";import"./@babylonjscore_Layers.c0605bf5.js";import"./@babylonjscore_LensFlares.ff1874ee.js";import"./@babylonjscore_Lights.ab2a2b54.js";import"./@babylonjscore_Loading.6509a8cd.js";import"./@babylonjscore_Morph.df37bd75.js";import"./@babylonjscore_node.60f33419.js";import"./@babylonjscore_Offline.9556dedd.js";import"./@babylonjscore_Particles.ea0a1760.js";import"./@babylonjscore_Probes.43ac1e9d.js";import"./@babylonjscore_scene.fc9d9dc0.js";import"./@babylonjscore_sceneComponent.4b70ec43.js";import"./@babylonjscore_Sprites.b7f7c371.js";import"./@babylonjscore_States.219926cb.js";import"./@babylonjscore_Shaders.73b25e8e.js";import"./@babylonjscore_XR.7f7d2945.js";import"./@babylonjscore_Compat.80d9493b.js";import"./tslibtslib.b6e59fa7.js";import"./@babylonjscore_ShadersWGSL.440a023d.js";import"./@babylonjscore_Inputs.ab1ffb62.js";class v{constructor(t){s(this,"scene");s(this,"mesh");s(this,"material");s(this,"mouseVector",new r);this.scene=t,this.mesh=u.CreateSphere("FollowMouseObj",{segments:1},this.scene),this.mesh.isPickable=!1,this.initImpostor(),this.initFollowMouseAction()}static getInstance(t){return this.instance||(this.instance=new this(t)),this.instance}initMaterial(){this.material=new l("FollowMouseObjMaterial"),this.material.emissiveColor=c.Red(),this.mesh.material=this.material}initImpostor(){this.mesh.physicsImpostor=new m(this.mesh,m.NoImpostor,{mass:0,restitution:0},this.scene),this.mesh.physicsImpostor.physicsBody.collisionFilterMask=0}initFollowMouseAction(){this.scene.onPointerObservable.add(t=>{switch(t.type){case d.POINTERMOVE:if(t.event.preventDefault(),!this.mesh||!this.scene.activeCamera)return;this.mouseVector.set(t.event.offsetX/this.scene.getEngine().getRenderWidth(),t.event.offsetY/this.scene.getEngine().getRenderHeight(),0),console.log(" this.mouseVector",this.mouseVector,this.scene.pointerX,this.scene.pointerY);const o=r.Unproject(this.mouseVector,1,1,h.Identity(),this.scene.activeCamera.getViewMatrix(),this.scene.activeCamera.getProjectionMatrix()).subtract(this.scene.activeCamera.position).normalize(),a=-this.scene.activeCamera.position.x/o.x;this.mesh.position=this.scene.activeCamera.position.clone().add(o.scale(a))}})}}s(v,"instance");export{v as default};
