var Z=Object.defineProperty;var G=(e,a,t)=>a in e?Z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var l=(e,a,t)=>(G(e,typeof a!="symbol"?a+"":a,t),t);import{V as v,M as w,i as R,J as W}from"./test1.990751a6.js";import{S as H}from"./standardMaterial.fe3baa28.js";import{P as I}from"./physicsImpostor.7ec1beab.js";import{M as T}from"./mesh.7b1ddb4e.js";import{V as M}from"./abstractMesh.8bf71ac2.js";import{C as J}from"./thinMaterialHelper.ab63cfd8.js";function j(e){for(var a=e.segments||32,t=e.diameterX||e.diameter||1,i=e.diameterY||e.diameter||1,n=e.diameterZ||e.diameter||1,O=e.arc&&(e.arc<=0||e.arc>1)?1:e.arc||1,u=e.slice&&e.slice<=0?1:e.slice||1,Y=e.sideOrientation===0?0:e.sideOrientation||M.DEFAULTSIDE,_=!!e.dedupTopBottomIndices,D=new v(t/2,i/2,n/2),d=2+a,o=2*d,s=[],p=[],C=[],f=[],c=0;c<=d;c++){for(var g=c/d,N=g*Math.PI*u,y=0;y<=o;y++){var F=y/o,A=F*Math.PI*2*O,X=w.RotationZ(-N),k=w.RotationY(A),L=v.TransformCoordinates(v.Up(),X),S=v.TransformCoordinates(L,k),V=S.multiply(D),b=S.divide(D).normalize();p.push(V.x,V.y,V.z),C.push(b.x,b.y,b.z),f.push(F,J.UseOpenGLOrientationForUV?1-g:g)}if(c>0)for(var B=p.length/3,r=B-2*(o+1);r+o+2<B;r++)_?(c>1&&(s.push(r),s.push(r+1),s.push(r+o+1)),(c<d||u<1)&&(s.push(r+o+1),s.push(r+1),s.push(r+o+2))):(s.push(r),s.push(r+1),s.push(r+o+1),s.push(r+o+1),s.push(r+1),s.push(r+o+2))}M._ComputeSides(Y,p,s,C,f,e.frontUVs,e.backUVs);var m=new M;return m.indices=s,m.positions=p,m.normals=C,m.uvs=f,m}function U(e,a,t){a===void 0&&(a={}),t===void 0&&(t=null);var i=new T(e,t);a.sideOrientation=T._GetDefaultSideOrientation(a.sideOrientation),i._originalBuilderSideOrientation=a.sideOrientation;var n=j(a);return n.applyToMesh(i,a.updatable),i}M.CreateSphere=j;T.CreateSphere=function(e,a,t,i,n,O){var u={segments:a,diameterX:t,diameterY:t,diameterZ:t,sideOrientation:O,updatable:n};return U(e,u,i)};const $={CreateSphere:U},h={Color3:R,Vector3:v,StandardMaterial:H,MeshBuilder:$,PhysicsImpostor:I,PointerEventTypes:W,Matrix:w};let P;class E{constructor(a){l(this,"scene");l(this,"mesh");l(this,"material");l(this,"mouseVector",new h.Vector3);this.scene=a,this.mesh=h.MeshBuilder.CreateSphere("FollowMouseObj",{segments:1},this.scene),this.mesh.isPickable=!1,this.mesh.isVisible=!1,this.initImpostor(),this.initFollowMouseAction()}static getInstance(a){return P||(P=new E(a)),P}initMaterial(){this.material=new h.StandardMaterial("FollowMouseObjMaterial"),this.material.emissiveColor=h.Color3.Red(),this.mesh.material=this.material}initImpostor(){this.mesh.physicsImpostor=new h.PhysicsImpostor(this.mesh,h.PhysicsImpostor.NoImpostor,{mass:0,restitution:0},this.scene),this.mesh.physicsImpostor.physicsBody.collisionFilterMask=0}initFollowMouseAction(){this.scene.onPointerObservable.add(a=>{switch(a.type){case h.PointerEventTypes.POINTERMOVE:case h.PointerEventTypes.POINTERDOWN:if(a.event.preventDefault(),!this.mesh||!this.scene.activeCamera)return;this.mouseVector.set(a.event.offsetX/this.scene.getEngine().getRenderWidth(),a.event.offsetY/this.scene.getEngine().getRenderHeight(),0);const i=h.Vector3.Unproject(this.mouseVector,1,1,h.Matrix.Identity(),this.scene.activeCamera.getViewMatrix(),this.scene.activeCamera.getProjectionMatrix()).subtract(this.scene.activeCamera.position).normalize(),n=-this.scene.activeCamera.position.x/i.x;this.mesh.position=this.scene.activeCamera.position.clone().add(i.scale(n))}})}}var te=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{U as C,E as F,te as a};
