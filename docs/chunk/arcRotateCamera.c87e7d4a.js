import{P as E,O as V,_ as x,j as c,L as H}from"./precisionDate.911053b8.js";import{g as D,s as l,k as N,S as k,T as A,l as j}from"./decorators.033fe02c.js";import{Vector3 as u,Vector2 as w,Quaternion as C,Matrix as m,TmpVectors as S}from"./math.vector.dbc48609.js";import{N as Q}from"./node.c2e9b9af.js";import{M as L}from"./mesh.0fd9eeec.js";import{c as g,K as Z,E as K}from"./scene.600fc970.js";import{E as y,S as G}from"./arrayTools.49f8ffa1.js";import{A as b,B as q,E as z,a as J}from"./animation.fe5e0942.js";import{C as _}from"./materialHelper.532e5e98.js";import{A as F}from"./math.axis.99d5e86d.js";import{P as $}from"./math.plane.3df9f77f.js";import"./performanceConfigurator.3a0adc9f.js";import"./math.color.a4c793a9.js";import"./abstractMesh.2a621fb8.js";import"./engine.030dae1e.js";import"./perfCounter.20926986.js";import"./engine.dynamicBuffer.1561c86f.js";import"./boundingInfo.536615f6.js";import"./lightConstants.3b1d6040.js";import"./math.functions.8d0abdec.js";import"./material.264cedf3.js";import"./thinMaterialHelper.ab63cfd8.js";import"./math.size.f34aa5eb.js";import"./light.9e8c0fea.js";var tt=function(){function n(){this._zoomStopsAnimation=!1,this._idleRotationSpeed=.05,this._idleRotationWaitTime=2e3,this._idleRotationSpinupTime=2e3,this.targetAlpha=null,this._isPointerDown=!1,this._lastFrameTime=null,this._lastInteractionTime=-1/0,this._cameraRotationSpeed=0,this._lastFrameRadius=0}return Object.defineProperty(n.prototype,"name",{get:function(){return"AutoRotation"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(e){this._zoomStopsAnimation=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"idleRotationSpeed",{get:function(){return this._idleRotationSpeed},set:function(e){this._idleRotationSpeed=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"idleRotationWaitTime",{get:function(){return this._idleRotationWaitTime},set:function(e){this._idleRotationWaitTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"idleRotationSpinupTime",{get:function(){return this._idleRotationSpinupTime},set:function(e){this._idleRotationSpinupTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotationInProgress",{get:function(){return Math.abs(this._cameraRotationSpeed)>0},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.attach=function(e){var t=this;this._attachedCamera=e;var i=this._attachedCamera.getScene();this._onPrePointerObservableObserver=i.onPrePointerObservable.add(function(a){if(a.type===g.POINTERDOWN){t._isPointerDown=!0;return}a.type===g.POINTERUP&&(t._isPointerDown=!1)}),this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){if(!t._reachTargetAlpha()){var a=E.Now,r=0;t._lastFrameTime!=null&&(r=a-t._lastFrameTime),t._lastFrameTime=a,t._applyUserInteraction();var s=a-t._lastInteractionTime-t._idleRotationWaitTime,h=Math.max(Math.min(s/t._idleRotationSpinupTime,1),0);t._cameraRotationSpeed=t._idleRotationSpeed*h,t._attachedCamera&&(t._attachedCamera.alpha-=t._cameraRotationSpeed*(r/1e3))}})},n.prototype.detach=function(){if(!!this._attachedCamera){var e=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&e.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._attachedCamera=null}},n.prototype.resetLastInteractionTime=function(e){this._lastInteractionTime=e!=null?e:E.Now},n.prototype._reachTargetAlpha=function(){return this._attachedCamera&&this.targetAlpha?Math.abs(this._attachedCamera.alpha-this.targetAlpha)<y:!1},n.prototype._userIsZooming=function(){return this._attachedCamera?this._attachedCamera.inertialRadiusOffset!==0:!1},n.prototype._shouldAnimationStopForInteraction=function(){if(!this._attachedCamera)return!1;var e=!1;return this._lastFrameRadius===this._attachedCamera.radius&&this._attachedCamera.inertialRadiusOffset!==0&&(e=!0),this._lastFrameRadius=this._attachedCamera.radius,this._zoomStopsAnimation?e:this._userIsZooming()},n.prototype._applyUserInteraction=function(){this._userIsMoving()&&!this._shouldAnimationStopForInteraction()&&(this._lastInteractionTime=E.Now)},n.prototype._userIsMoving=function(){return this._attachedCamera?this._attachedCamera.inertialAlphaOffset!==0||this._attachedCamera.inertialBetaOffset!==0||this._attachedCamera.inertialRadiusOffset!==0||this._attachedCamera.inertialPanningX!==0||this._attachedCamera.inertialPanningY!==0||this._isPointerDown:!1},n}(),et=function(){function n(){this.transitionDuration=450,this.lowerRadiusTransitionRange=2,this.upperRadiusTransitionRange=-2,this._autoTransitionRange=!1,this._radiusIsAnimating=!1,this._radiusBounceTransition=null,this._animatables=new Array}return Object.defineProperty(n.prototype,"name",{get:function(){return"Bouncing"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"autoTransitionRange",{get:function(){return this._autoTransitionRange},set:function(e){var t=this;if(this._autoTransitionRange!==e){this._autoTransitionRange=e;var i=this._attachedCamera;!i||(e?this._onMeshTargetChangedObserver=i.onMeshTargetChangedObservable.add(function(a){if(!!a){a.computeWorldMatrix(!0);var r=a.getBoundingInfo().diagonalLength;t.lowerRadiusTransitionRange=r*.05,t.upperRadiusTransitionRange=r*.05}}):this._onMeshTargetChangedObserver&&i.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver))}},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.attach=function(e){var t=this;this._attachedCamera=e,this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){!t._attachedCamera||(t._isRadiusAtLimit(t._attachedCamera.lowerRadiusLimit)&&t._applyBoundRadiusAnimation(t.lowerRadiusTransitionRange),t._isRadiusAtLimit(t._attachedCamera.upperRadiusLimit)&&t._applyBoundRadiusAnimation(t.upperRadiusTransitionRange))})},n.prototype.detach=function(){!this._attachedCamera||(this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null)},n.prototype._isRadiusAtLimit=function(e){return this._attachedCamera?this._attachedCamera.radius===e&&!this._radiusIsAnimating:!1},n.prototype._applyBoundRadiusAnimation=function(e){var t=this;if(!!this._attachedCamera){this._radiusBounceTransition||(n.EasingFunction.setEasingMode(n.EasingMode),this._radiusBounceTransition=b.CreateAnimation("radius",b.ANIMATIONTYPE_FLOAT,60,n.EasingFunction)),this._cachedWheelPrecision=this._attachedCamera.wheelPrecision,this._attachedCamera.wheelPrecision=1/0,this._attachedCamera.inertialRadiusOffset=0,this.stopAllAnimations(),this._radiusIsAnimating=!0;var i=b.TransitionTo("radius",this._attachedCamera.radius+e,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusBounceTransition,this.transitionDuration,function(){return t._clearAnimationLocks()});i&&this._animatables.push(i)}},n.prototype._clearAnimationLocks=function(){this._radiusIsAnimating=!1,this._attachedCamera&&(this._attachedCamera.wheelPrecision=this._cachedWheelPrecision)},n.prototype.stopAllAnimations=function(){for(this._attachedCamera&&(this._attachedCamera.animations=[]);this._animatables.length;)this._animatables[0].onAnimationEnd=null,this._animatables[0].stop(),this._animatables.shift()},n.EasingFunction=new q(.3),n.EasingMode=z.EASINGMODE_EASEOUT,n}(),it=function(){function n(){this.onTargetFramingAnimationEndObservable=new V,this._mode=n.FitFrustumSidesMode,this._radiusScale=1,this._positionScale=.5,this._defaultElevation=.3,this._elevationReturnTime=1500,this._elevationReturnWaitTime=1e3,this._zoomStopsAnimation=!1,this._framingTime=1500,this.autoCorrectCameraLimitsAndSensibility=!0,this._isPointerDown=!1,this._lastInteractionTime=-1/0,this._animatables=new Array,this._betaIsAnimating=!1}return Object.defineProperty(n.prototype,"name",{get:function(){return"Framing"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"radiusScale",{get:function(){return this._radiusScale},set:function(e){this._radiusScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"positionScale",{get:function(){return this._positionScale},set:function(e){this._positionScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultElevation",{get:function(){return this._defaultElevation},set:function(e){this._defaultElevation=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"elevationReturnTime",{get:function(){return this._elevationReturnTime},set:function(e){this._elevationReturnTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"elevationReturnWaitTime",{get:function(){return this._elevationReturnWaitTime},set:function(e){this._elevationReturnWaitTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(e){this._zoomStopsAnimation=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"framingTime",{get:function(){return this._framingTime},set:function(e){this._framingTime=e},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.attach=function(e){var t=this;this._attachedCamera=e;var i=this._attachedCamera.getScene();n.EasingFunction.setEasingMode(n.EasingMode),this._onPrePointerObservableObserver=i.onPrePointerObservable.add(function(a){if(a.type===g.POINTERDOWN){t._isPointerDown=!0;return}a.type===g.POINTERUP&&(t._isPointerDown=!1)}),this._onMeshTargetChangedObserver=e.onMeshTargetChangedObservable.add(function(a){a&&t.zoomOnMesh(a,void 0,function(){t.onTargetFramingAnimationEndObservable.notifyObservers()})}),this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){t._applyUserInteraction(),t._maintainCameraAboveGround()})},n.prototype.detach=function(){if(!!this._attachedCamera){var e=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&e.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null}},n.prototype.zoomOnMesh=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null),e.computeWorldMatrix(!0);var a=e.getBoundingInfo().boundingBox;this.zoomOnBoundingInfo(a.minimumWorld,a.maximumWorld,t,i)},n.prototype.zoomOnMeshHierarchy=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null),e.computeWorldMatrix(!0);var a=e.getHierarchyBoundingVectors(!0);this.zoomOnBoundingInfo(a.min,a.max,t,i)},n.prototype.zoomOnMeshesHierarchy=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null);for(var a=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new u(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),s=0;s<e.length;s++){var h=e[s].getHierarchyBoundingVectors(!0);u.CheckExtends(h.min,a,r),u.CheckExtends(h.max,a,r)}this.zoomOnBoundingInfo(a,r,t,i)},n.prototype.zoomOnBoundingInfo=function(e,t,i,a){var r=this;i===void 0&&(i=!1),a===void 0&&(a=null);var s;if(!!this._attachedCamera){var h=e.y,p=t.y,o=h+(p-h)*this._positionScale,d=t.subtract(e).scale(.5);if(i)s=new u(0,o,0);else{var f=e.add(d);s=new u(f.x,o,f.z)}this._vectorTransition||(this._vectorTransition=b.CreateAnimation("target",b.ANIMATIONTYPE_VECTOR3,60,n.EasingFunction)),this._betaIsAnimating=!0;var v=b.TransitionTo("target",s,this._attachedCamera,this._attachedCamera.getScene(),60,this._vectorTransition,this._framingTime);v&&this._animatables.push(v);var R=0;if(this._mode===n.FitFrustumSidesMode){var O=this._calculateLowerRadiusFromModelBoundingSphere(e,t);this.autoCorrectCameraLimitsAndSensibility&&(this._attachedCamera.lowerRadiusLimit=d.length()+this._attachedCamera.minZ),R=O}else this._mode===n.IgnoreBoundsSizeMode&&(R=this._calculateLowerRadiusFromModelBoundingSphere(e,t),this.autoCorrectCameraLimitsAndSensibility&&this._attachedCamera.lowerRadiusLimit===null&&(this._attachedCamera.lowerRadiusLimit=this._attachedCamera.minZ));if(this.autoCorrectCameraLimitsAndSensibility){var M=t.subtract(e).length();this._attachedCamera.panningSensibility=5e3/M,this._attachedCamera.wheelPrecision=100/R}this._radiusTransition||(this._radiusTransition=b.CreateAnimation("radius",b.ANIMATIONTYPE_FLOAT,60,n.EasingFunction)),v=b.TransitionTo("radius",R,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusTransition,this._framingTime,function(){r.stopAllAnimations(),a&&a(),r._attachedCamera&&r._attachedCamera.useInputToRestoreState&&r._attachedCamera.storeState()}),v&&this._animatables.push(v)}},n.prototype._calculateLowerRadiusFromModelBoundingSphere=function(e,t){var i=t.subtract(e),a=i.length(),r=this._getFrustumSlope(),s=a*.5,h=s*this._radiusScale,p=h*Math.sqrt(1+1/(r.x*r.x)),o=h*Math.sqrt(1+1/(r.y*r.y)),d=Math.max(p,o),f=this._attachedCamera;return f?(f.lowerRadiusLimit&&this._mode===n.IgnoreBoundsSizeMode&&(d=d<f.lowerRadiusLimit?f.lowerRadiusLimit:d),f.upperRadiusLimit&&(d=d>f.upperRadiusLimit?f.upperRadiusLimit:d),d):0},n.prototype._maintainCameraAboveGround=function(){var e=this;if(!(this._elevationReturnTime<0)){var t=E.Now-this._lastInteractionTime,i=Math.PI*.5-this._defaultElevation,a=Math.PI*.5;if(this._attachedCamera&&!this._betaIsAnimating&&this._attachedCamera.beta>a&&t>=this._elevationReturnWaitTime){this._betaIsAnimating=!0,this.stopAllAnimations(),this._betaTransition||(this._betaTransition=b.CreateAnimation("beta",b.ANIMATIONTYPE_FLOAT,60,n.EasingFunction));var r=b.TransitionTo("beta",i,this._attachedCamera,this._attachedCamera.getScene(),60,this._betaTransition,this._elevationReturnTime,function(){e._clearAnimationLocks(),e.stopAllAnimations()});r&&this._animatables.push(r)}}},n.prototype._getFrustumSlope=function(){var e=this._attachedCamera;if(!e)return w.Zero();var t=e.getScene().getEngine(),i=t.getAspectRatio(e),a=Math.tan(e.fov/2),r=a*i;return new w(r,a)},n.prototype._clearAnimationLocks=function(){this._betaIsAnimating=!1},n.prototype._applyUserInteraction=function(){this.isUserIsMoving&&(this._lastInteractionTime=E.Now,this.stopAllAnimations(),this._clearAnimationLocks())},n.prototype.stopAllAnimations=function(){for(this._attachedCamera&&(this._attachedCamera.animations=[]);this._animatables.length;)this._animatables[0]&&(this._animatables[0].onAnimationEnd=null,this._animatables[0].stop()),this._animatables.shift()},Object.defineProperty(n.prototype,"isUserIsMoving",{get:function(){return this._attachedCamera?this._attachedCamera.inertialAlphaOffset!==0||this._attachedCamera.inertialBetaOffset!==0||this._attachedCamera.inertialRadiusOffset!==0||this._attachedCamera.inertialPanningX!==0||this._attachedCamera.inertialPanningY!==0||this._isPointerDown:!1},enumerable:!1,configurable:!0}),n.EasingFunction=new J,n.EasingMode=z.EASINGMODE_EASEINOUT,n.IgnoreBoundsSizeMode=0,n.FitFrustumSidesMode=1,n}(),at=function(n){x(e,n);function e(t,i,a,r){r===void 0&&(r=!0);var s=n.call(this,t,i,a,r)||this;return s._tmpUpVector=u.Zero(),s._tmpTargetVector=u.Zero(),s.cameraDirection=new u(0,0,0),s.cameraRotation=new w(0,0),s.ignoreParentScaling=!1,s.updateUpVectorFromRotation=!1,s._tmpQuaternion=new C,s.rotation=new u(0,0,0),s.speed=2,s.noRotationConstraint=!1,s.invertRotation=!1,s.inverseRotationSpeed=.2,s.lockedTarget=null,s._currentTarget=u.Zero(),s._initialFocalDistance=1,s._viewMatrix=m.Zero(),s._camMatrix=m.Zero(),s._cameraTransformMatrix=m.Zero(),s._cameraRotationMatrix=m.Zero(),s._referencePoint=new u(0,0,1),s._transformedReferencePoint=u.Zero(),s._defaultUp=u.Up(),s._cachedRotationZ=0,s._cachedQuaternionRotationZ=0,s}return e.prototype.getFrontPosition=function(t){this.getWorldMatrix();var i=this.getTarget().subtract(this.position);return i.normalize(),i.scaleInPlace(t),this.globalPosition.add(i)},e.prototype._getLockedTargetPosition=function(){return this.lockedTarget?(this.lockedTarget.absolutePosition&&this.lockedTarget.computeWorldMatrix(),this.lockedTarget.absolutePosition||this.lockedTarget):null},e.prototype.storeState=function(){return this._storedPosition=this.position.clone(),this._storedRotation=this.rotation.clone(),this.rotationQuaternion&&(this._storedRotationQuaternion=this.rotationQuaternion.clone()),n.prototype.storeState.call(this)},e.prototype._restoreStateValues=function(){return n.prototype._restoreStateValues.call(this)?(this.position=this._storedPosition.clone(),this.rotation=this._storedRotation.clone(),this.rotationQuaternion&&(this.rotationQuaternion=this._storedRotationQuaternion.clone()),this.cameraDirection.copyFromFloats(0,0,0),this.cameraRotation.copyFromFloats(0,0),!0):!1},e.prototype._initCache=function(){n.prototype._initCache.call(this),this._cache.lockedTarget=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotation=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotationQuaternion=new C(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype._updateCache=function(t){t||n.prototype._updateCache.call(this);var i=this._getLockedTargetPosition();i?this._cache.lockedTarget?this._cache.lockedTarget.copyFrom(i):this._cache.lockedTarget=i.clone():this._cache.lockedTarget=null,this._cache.rotation.copyFrom(this.rotation),this.rotationQuaternion&&this._cache.rotationQuaternion.copyFrom(this.rotationQuaternion)},e.prototype._isSynchronizedViewMatrix=function(){if(!n.prototype._isSynchronizedViewMatrix.call(this))return!1;var t=this._getLockedTargetPosition();return(this._cache.lockedTarget?this._cache.lockedTarget.equals(t):!t)&&(this.rotationQuaternion?this.rotationQuaternion.equals(this._cache.rotationQuaternion):this._cache.rotation.equals(this.rotation))},e.prototype._computeLocalCameraSpeed=function(){var t=this.getEngine();return this.speed*Math.sqrt(t.getDeltaTime()/(t.getFps()*100))},e.prototype.setTarget=function(t){this.upVector.normalize(),this._initialFocalDistance=t.subtract(this.position).length(),this.position.z===t.z&&(this.position.z+=y),this._referencePoint.normalize().scaleInPlace(this._initialFocalDistance),m.LookAtLHToRef(this.position,t,this._defaultUp,this._camMatrix),this._camMatrix.invert(),this.rotation.x=Math.atan(this._camMatrix.m[6]/this._camMatrix.m[10]);var i=t.subtract(this.position);i.x>=0?this.rotation.y=-Math.atan(i.z/i.x)+Math.PI/2:this.rotation.y=-Math.atan(i.z/i.x)-Math.PI/2,this.rotation.z=0,isNaN(this.rotation.x)&&(this.rotation.x=0),isNaN(this.rotation.y)&&(this.rotation.y=0),isNaN(this.rotation.z)&&(this.rotation.z=0),this.rotationQuaternion&&C.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)},Object.defineProperty(e.prototype,"target",{get:function(){return this.getTarget()},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),e.prototype.getTarget=function(){return this._currentTarget},e.prototype._decideIfNeedsToMove=function(){return Math.abs(this.cameraDirection.x)>0||Math.abs(this.cameraDirection.y)>0||Math.abs(this.cameraDirection.z)>0},e.prototype._updatePosition=function(){if(this.parent){this.parent.getWorldMatrix().invertToRef(S.Matrix[0]),u.TransformNormalToRef(this.cameraDirection,S.Matrix[0],S.Vector3[0]),this.position.addInPlace(S.Vector3[0]);return}this.position.addInPlace(this.cameraDirection)},e.prototype._checkInputs=function(){var t=this.invertRotation?-this.inverseRotationSpeed:1,i=this._decideIfNeedsToMove(),a=Math.abs(this.cameraRotation.x)>0||Math.abs(this.cameraRotation.y)>0;if(i&&this._updatePosition(),a){if(this.rotationQuaternion&&this.rotationQuaternion.toEulerAnglesToRef(this.rotation),this.rotation.x+=this.cameraRotation.x*t,this.rotation.y+=this.cameraRotation.y*t,!this.noRotationConstraint){var r=1.570796;this.rotation.x>r&&(this.rotation.x=r),this.rotation.x<-r&&(this.rotation.x=-r)}if(this.rotationQuaternion){var s=this.rotation.lengthSquared();s&&C.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)}}i&&(Math.abs(this.cameraDirection.x)<this.speed*y&&(this.cameraDirection.x=0),Math.abs(this.cameraDirection.y)<this.speed*y&&(this.cameraDirection.y=0),Math.abs(this.cameraDirection.z)<this.speed*y&&(this.cameraDirection.z=0),this.cameraDirection.scaleInPlace(this.inertia)),a&&(Math.abs(this.cameraRotation.x)<this.speed*y&&(this.cameraRotation.x=0),Math.abs(this.cameraRotation.y)<this.speed*y&&(this.cameraRotation.y=0),this.cameraRotation.scaleInPlace(this.inertia)),n.prototype._checkInputs.call(this)},e.prototype._updateCameraRotationMatrix=function(){this.rotationQuaternion?this.rotationQuaternion.toRotationMatrix(this._cameraRotationMatrix):m.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this._cameraRotationMatrix)},e.prototype._rotateUpVectorWithCameraRotationMatrix=function(){return u.TransformNormalToRef(this._defaultUp,this._cameraRotationMatrix,this.upVector),this},e.prototype._getViewMatrix=function(){return this.lockedTarget&&this.setTarget(this._getLockedTargetPosition()),this._updateCameraRotationMatrix(),this.rotationQuaternion&&this._cachedQuaternionRotationZ!=this.rotationQuaternion.z?(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedQuaternionRotationZ=this.rotationQuaternion.z):this._cachedRotationZ!==this.rotation.z&&(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedRotationZ=this.rotation.z),u.TransformCoordinatesToRef(this._referencePoint,this._cameraRotationMatrix,this._transformedReferencePoint),this.position.addToRef(this._transformedReferencePoint,this._currentTarget),this.updateUpVectorFromRotation&&(this.rotationQuaternion?F.Y.rotateByQuaternionToRef(this.rotationQuaternion,this.upVector):(C.FromEulerVectorToRef(this.rotation,this._tmpQuaternion),F.Y.rotateByQuaternionToRef(this._tmpQuaternion,this.upVector))),this._computeViewMatrix(this.position,this._currentTarget,this.upVector),this._viewMatrix},e.prototype._computeViewMatrix=function(t,i,a){if(this.ignoreParentScaling){if(this.parent){var r=this.parent.getWorldMatrix();u.TransformCoordinatesToRef(t,r,this._globalPosition),u.TransformCoordinatesToRef(i,r,this._tmpTargetVector),u.TransformNormalToRef(a,r,this._tmpUpVector),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t),this._tmpTargetVector.copyFrom(i),this._tmpUpVector.copyFrom(a);this.getScene().useRightHandedSystem?m.LookAtRHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix):m.LookAtLHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix);return}if(this.getScene().useRightHandedSystem?m.LookAtRHToRef(t,i,a,this._viewMatrix):m.LookAtLHToRef(t,i,a,this._viewMatrix),this.parent){var r=this.parent.getWorldMatrix();this._viewMatrix.invert(),this._viewMatrix.multiplyToRef(r,this._viewMatrix),this._viewMatrix.getTranslationToRef(this._globalPosition),this._viewMatrix.invert(),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t)},e.prototype.createRigCamera=function(t,i){if(this.cameraRigMode!==_.RIG_MODE_NONE){var a=new e(t,this.position.clone(),this.getScene());return a.isRigCamera=!0,a.rigParent=this,(this.cameraRigMode===_.RIG_MODE_VR||this.cameraRigMode===_.RIG_MODE_WEBVR)&&(this.rotationQuaternion||(this.rotationQuaternion=new C),a._cameraRigParams={},a.rotationQuaternion=new C),a}return null},e.prototype._updateRigCameras=function(){var t=this._rigCameras[0],i=this._rigCameras[1];switch(this.computeWorldMatrix(),this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:{var a=this.cameraRigMode===_.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?1:-1,r=this.cameraRigMode===_.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?-1:1;this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*a,t),this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*r,i);break}case _.RIG_MODE_VR:t.rotationQuaternion?(t.rotationQuaternion.copyFrom(this.rotationQuaternion),i.rotationQuaternion.copyFrom(this.rotationQuaternion)):(t.rotation.copyFrom(this.rotation),i.rotation.copyFrom(this.rotation)),t.position.copyFrom(this.position),i.position.copyFrom(this.position);break}n.prototype._updateRigCameras.call(this)},e.prototype._getRigCamPositionAndTarget=function(t,i){var a=this.getTarget();a.subtractToRef(this.position,e._TargetFocalPoint),e._TargetFocalPoint.normalize().scaleInPlace(this._initialFocalDistance);var r=e._TargetFocalPoint.addInPlace(this.position);m.TranslationToRef(-r.x,-r.y,-r.z,e._TargetTransformMatrix),e._TargetTransformMatrix.multiplyToRef(m.RotationAxis(i.upVector,t),e._RigCamTransformMatrix),m.TranslationToRef(r.x,r.y,r.z,e._TargetTransformMatrix),e._RigCamTransformMatrix.multiplyToRef(e._TargetTransformMatrix,e._RigCamTransformMatrix),u.TransformCoordinatesToRef(this.position,e._RigCamTransformMatrix,i.position),i.setTarget(r)},e.prototype.getClassName=function(){return"TargetCamera"},e._RigCamTransformMatrix=new m,e._TargetTransformMatrix=new m,e._TargetFocalPoint=new u,c([D()],e.prototype,"rotation",void 0),c([l()],e.prototype,"speed",void 0),c([N("lockedTargetId")],e.prototype,"lockedTarget",void 0),e}(_),B={},nt=function(){function n(e){this.attachedToElement=!1,this.attached={},this.camera=e,this.checkInputs=function(){}}return n.prototype.add=function(e){var t=e.getSimpleName();if(this.attached[t]){H.Warn("camera input of type "+t+" already exists on camera");return}this.attached[t]=e,e.camera=this.camera,e.checkInputs&&(this.checkInputs=this._addCheckInputs(e.checkInputs.bind(e))),this.attachedToElement&&e.attachControl()},n.prototype.remove=function(e){for(var t in this.attached){var i=this.attached[t];i===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},n.prototype.removeByType=function(e){for(var t in this.attached){var i=this.attached[t];i.getClassName()===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},n.prototype._addCheckInputs=function(e){var t=this.checkInputs;return function(){t(),e()}},n.prototype.attachInput=function(e){this.attachedToElement&&e.attachControl(this.noPreventDefault)},n.prototype.attachElement=function(e){if(e===void 0&&(e=!1),!this.attachedToElement){e=_.ForceAttachControlToAlwaysPreventDefault?!1:e,this.attachedToElement=!0,this.noPreventDefault=e;for(var t in this.attached)this.attached[t].attachControl(e)}},n.prototype.detachElement=function(e){e===void 0&&(e=!1);for(var t in this.attached)this.attached[t].detachControl(),e&&(this.attached[t].camera=null);this.attachedToElement=!1},n.prototype.rebuildInputCheck=function(){this.checkInputs=function(){};for(var e in this.attached){var t=this.attached[e];t.checkInputs&&(this.checkInputs=this._addCheckInputs(t.checkInputs.bind(t)))}},n.prototype.clear=function(){this.attachedToElement&&this.detachElement(!0),this.attached={},this.attachedToElement=!1,this.checkInputs=function(){}},n.prototype.serialize=function(e){var t={};for(var i in this.attached){var a=this.attached[i],r=k.Serialize(a);t[a.getClassName()]=r}e.inputsmgr=t},n.prototype.parse=function(e){var t=e.inputsmgr;if(t){this.clear();var i=function(p){var o=B[p];if(o){var d=t[p],f=k.Parse(function(){return new o},d,null);a.add(f)}},a=this;for(var r in t)i(r)}else{var s=function(p){var o=B[h.attached[p].getClassName()];if(o){var d=k.Parse(function(){return new o},e,null);h.remove(h.attached[p]),h.add(d)}},h=this;for(var r in this.attached)s(r)}},n}(),ot=function(){function n(){this._currentActiveButton=-1,this.buttons=[0,1,2]}return n.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments);var i=this.camera.getEngine(),a=i.getInputElement(),r=0,s=null;this._pointA=null,this._pointB=null,this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0,this._pointerInput=function(p){var o=p.event,d=o.pointerType==="touch";if(!i.isInVRExclusivePointerMode&&!(p.type!==g.POINTERMOVE&&t.buttons.indexOf(o.button)===-1)){var f=o.srcElement||o.target;if(t._altKey=o.altKey,t._ctrlKey=o.ctrlKey,t._metaKey=o.metaKey,t._shiftKey=o.shiftKey,t._buttonsPressed=o.buttons,i.isPointerLock){var v=o.movementX||o.mozMovementX||o.webkitMovementX||o.msMovementX||0,R=o.movementY||o.mozMovementY||o.webkitMovementY||o.msMovementY||0;t.onTouch(null,v,R),t._pointA=null,t._pointB=null}else if(p.type===g.POINTERDOWN&&(t._currentActiveButton===-1||d)){try{f==null||f.setPointerCapture(o.pointerId)}catch{}t._pointA===null?t._pointA={x:o.clientX,y:o.clientY,pointerId:o.pointerId,type:o.pointerType}:t._pointB===null&&(t._pointB={x:o.clientX,y:o.clientY,pointerId:o.pointerId,type:o.pointerType}),t._currentActiveButton===-1&&!d&&(t._currentActiveButton=o.button),t.onButtonDown(o),e||(o.preventDefault(),a&&a.focus())}else if(p.type===g.POINTERDOUBLETAP)t.onDoubleTap(o.pointerType);else if(p.type===g.POINTERUP&&(t._currentActiveButton===o.button||d)){try{f==null||f.releasePointerCapture(o.pointerId)}catch{}d||(t._pointB=null),i._badOS?t._pointA=t._pointB=null:t._pointB&&t._pointA&&t._pointA.pointerId==o.pointerId?(t._pointA=t._pointB,t._pointB=null):t._pointA&&t._pointB&&t._pointB.pointerId==o.pointerId?t._pointB=null:t._pointA=t._pointB=null,(r!==0||s)&&(t.onMultiTouch(t._pointA,t._pointB,r,0,s,null),r=0,s=null),t._currentActiveButton=-1,t.onButtonUp(o),e||o.preventDefault()}else if(p.type===g.POINTERMOVE){if(e||o.preventDefault(),t._pointA&&t._pointB===null){var v=o.clientX-t._pointA.x,R=o.clientY-t._pointA.y;t.onTouch(t._pointA,v,R),t._pointA.x=o.clientX,t._pointA.y=o.clientY}else if(t._pointA&&t._pointB){var O=t._pointA.pointerId===o.pointerId?t._pointA:t._pointB;O.x=o.clientX,O.y=o.clientY;var M=t._pointA.x-t._pointB.x,P=t._pointA.y-t._pointB.y,I=M*M+P*P,T={x:(t._pointA.x+t._pointB.x)/2,y:(t._pointA.y+t._pointB.y)/2,pointerId:o.pointerId,type:p.type};t.onMultiTouch(t._pointA,t._pointB,r,I,s,T),s=T,r=I}}}},this._observer=this.camera.getScene().onPointerObservable.add(this._pointerInput,g.POINTERDOWN|g.POINTERUP|g.POINTERMOVE|g.POINTERDOUBLETAP),this._onLostFocus=function(){t._pointA=t._pointB=null,r=0,s=null,t.onLostFocus()},this._contextMenuBind=this.onContextMenu.bind(this),a&&a.addEventListener("contextmenu",this._contextMenuBind,!1);var h=this.camera.getScene().getEngine().getHostWindow();h&&A.RegisterTopRootEvents(h,[{name:"blur",handler:this._onLostFocus}])},n.prototype.detachControl=function(){if(this._onLostFocus){var e=this.camera.getScene().getEngine().getHostWindow();e&&A.UnregisterTopRootEvents(e,[{name:"blur",handler:this._onLostFocus}])}if(this._observer){if(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._contextMenuBind){var t=this.camera.getScene().getEngine().getInputElement();t&&t.removeEventListener("contextmenu",this._contextMenuBind)}this._onLostFocus=null}this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0,this._currentActiveButton=-1},n.prototype.getClassName=function(){return"BaseCameraPointersInput"},n.prototype.getSimpleName=function(){return"pointers"},n.prototype.onDoubleTap=function(e){},n.prototype.onTouch=function(e,t,i){},n.prototype.onMultiTouch=function(e,t,i,a,r,s){},n.prototype.onContextMenu=function(e){e.preventDefault()},n.prototype.onButtonDown=function(e){},n.prototype.onButtonUp=function(e){},n.prototype.onLostFocus=function(){},c([l()],n.prototype,"buttons",void 0),n}(),U=function(n){x(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.buttons=[0,1,2],t.angularSensibilityX=1e3,t.angularSensibilityY=1e3,t.pinchPrecision=12,t.pinchDeltaPercentage=0,t.useNaturalPinchZoom=!1,t.pinchZoom=!0,t.panningSensibility=1e3,t.multiTouchPanning=!0,t.multiTouchPanAndZoom=!0,t.pinchInwards=!0,t._isPanClick=!1,t._twoFingerActivityCount=0,t._isPinching=!1,t}return e.prototype.getClassName=function(){return"ArcRotateCameraPointersInput"},e.prototype._computeMultiTouchPanning=function(t,i){if(this.panningSensibility!==0&&t&&i){var a=i.x-t.x,r=i.y-t.y;this.camera.inertialPanningX+=-a/this.panningSensibility,this.camera.inertialPanningY+=r/this.panningSensibility}},e.prototype._computePinchZoom=function(t,i){var a=this.camera.radius||e.MinimumRadiusForPinch;this.useNaturalPinchZoom?this.camera.radius=a*Math.sqrt(t)/Math.sqrt(i):this.pinchDeltaPercentage?this.camera.inertialRadiusOffset+=(i-t)*.001*a*this.pinchDeltaPercentage:this.camera.inertialRadiusOffset+=(i-t)/(this.pinchPrecision*(this.pinchInwards?1:-1)*(this.angularSensibilityX+this.angularSensibilityY)/2)},e.prototype.onTouch=function(t,i,a){this.panningSensibility!==0&&(this._ctrlKey&&this.camera._useCtrlForPanning||this._isPanClick)?(this.camera.inertialPanningX+=-i/this.panningSensibility,this.camera.inertialPanningY+=a/this.panningSensibility):(this.camera.inertialAlphaOffset-=i/this.angularSensibilityX,this.camera.inertialBetaOffset-=a/this.angularSensibilityY)},e.prototype.onDoubleTap=function(){this.camera.useInputToRestoreState&&this.camera.restoreState()},e.prototype.onMultiTouch=function(t,i,a,r,s,h){a===0&&s===null||r===0&&h===null||(this.multiTouchPanAndZoom?(this._computePinchZoom(a,r),this._computeMultiTouchPanning(s,h)):this.multiTouchPanning&&this.pinchZoom?(this._twoFingerActivityCount++,this._isPinching||this._twoFingerActivityCount<20&&Math.abs(Math.sqrt(r)-Math.sqrt(a))>this.camera.pinchToPanMaxDistance?(this._computePinchZoom(a,r),this._isPinching=!0):this._computeMultiTouchPanning(s,h)):this.multiTouchPanning?this._computeMultiTouchPanning(s,h):this.pinchZoom&&this._computePinchZoom(a,r))},e.prototype.onButtonDown=function(t){this._isPanClick=t.button===this.camera._panningMouseButton},e.prototype.onButtonUp=function(){this._twoFingerActivityCount=0,this._isPinching=!1},e.prototype.onLostFocus=function(){this._isPanClick=!1,this._twoFingerActivityCount=0,this._isPinching=!1},e.MinimumRadiusForPinch=.001,c([l()],e.prototype,"buttons",void 0),c([l()],e.prototype,"angularSensibilityX",void 0),c([l()],e.prototype,"angularSensibilityY",void 0),c([l()],e.prototype,"pinchPrecision",void 0),c([l()],e.prototype,"pinchDeltaPercentage",void 0),c([l()],e.prototype,"useNaturalPinchZoom",void 0),c([l()],e.prototype,"pinchZoom",void 0),c([l()],e.prototype,"panningSensibility",void 0),c([l()],e.prototype,"multiTouchPanning",void 0),c([l()],e.prototype,"multiTouchPanAndZoom",void 0),e}(ot);B.ArcRotateCameraPointersInput=U;var Y=function(){function n(){this.keysUp=[38],this.keysDown=[40],this.keysLeft=[37],this.keysRight=[39],this.keysReset=[220],this.panningSensibility=50,this.zoomingSensibility=25,this.useAltToZoom=!0,this.angularSpeed=.01,this._keys=new Array}return n.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments),!this._onCanvasBlurObserver&&(this._scene=this.camera.getScene(),this._engine=this._scene.getEngine(),this._onCanvasBlurObserver=this._engine.onCanvasBlurObservable.add(function(){t._keys=[]}),this._onKeyboardObserver=this._scene.onKeyboardObservable.add(function(i){var a=i.event;if(!a.metaKey){if(i.type===Z.KEYDOWN){if(t._ctrlPressed=a.ctrlKey,t._altPressed=a.altKey,t.keysUp.indexOf(a.keyCode)!==-1||t.keysDown.indexOf(a.keyCode)!==-1||t.keysLeft.indexOf(a.keyCode)!==-1||t.keysRight.indexOf(a.keyCode)!==-1||t.keysReset.indexOf(a.keyCode)!==-1){var r=t._keys.indexOf(a.keyCode);r===-1&&t._keys.push(a.keyCode),a.preventDefault&&(e||a.preventDefault())}}else if(t.keysUp.indexOf(a.keyCode)!==-1||t.keysDown.indexOf(a.keyCode)!==-1||t.keysLeft.indexOf(a.keyCode)!==-1||t.keysRight.indexOf(a.keyCode)!==-1||t.keysReset.indexOf(a.keyCode)!==-1){var r=t._keys.indexOf(a.keyCode);r>=0&&t._keys.splice(r,1),a.preventDefault&&(e||a.preventDefault())}}}))},n.prototype.detachControl=function(){this._scene&&(this._onKeyboardObserver&&this._scene.onKeyboardObservable.remove(this._onKeyboardObserver),this._onCanvasBlurObserver&&this._engine.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onKeyboardObserver=null,this._onCanvasBlurObserver=null),this._keys=[]},n.prototype.checkInputs=function(){if(this._onKeyboardObserver)for(var e=this.camera,t=0;t<this._keys.length;t++){var i=this._keys[t];this.keysLeft.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningX-=1/this.panningSensibility:e.inertialAlphaOffset-=this.angularSpeed:this.keysUp.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningY+=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?e.inertialRadiusOffset+=1/this.zoomingSensibility:e.inertialBetaOffset-=this.angularSpeed:this.keysRight.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningX+=1/this.panningSensibility:e.inertialAlphaOffset+=this.angularSpeed:this.keysDown.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningY-=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?e.inertialRadiusOffset-=1/this.zoomingSensibility:e.inertialBetaOffset+=this.angularSpeed:this.keysReset.indexOf(i)!==-1&&e.useInputToRestoreState&&e.restoreState()}},n.prototype.getClassName=function(){return"ArcRotateCameraKeyboardMoveInput"},n.prototype.getSimpleName=function(){return"keyboard"},c([l()],n.prototype,"keysUp",void 0),c([l()],n.prototype,"keysDown",void 0),c([l()],n.prototype,"keysLeft",void 0),c([l()],n.prototype,"keysRight",void 0),c([l()],n.prototype,"keysReset",void 0),c([l()],n.prototype,"panningSensibility",void 0),c([l()],n.prototype,"zoomingSensibility",void 0),c([l()],n.prototype,"useAltToZoom",void 0),c([l()],n.prototype,"angularSpeed",void 0),n}();B.ArcRotateCameraKeyboardMoveInput=Y;var rt=40,W=function(){function n(){this.wheelPrecision=3,this.zoomToMouseLocation=!1,this.wheelDeltaPercentage=0,this.customComputeDeltaFromMouseWheel=null,this._inertialPanning=u.Zero()}return n.prototype._computeDeltaFromMouseWheelLegacyEvent=function(e,t){var i=0,a=e*.01*this.wheelDeltaPercentage*t;return e>0?i=a/(1+this.wheelDeltaPercentage):i=a*(1+this.wheelDeltaPercentage),i},n.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments),this._wheel=function(i){if(i.type===g.POINTERWHEEL){var a=i.event,r=0,s=a,h=0,p=a.deltaMode===K.DOM_DELTA_LINE?rt:1;if(a.deltaY!==void 0?h=-(a.deltaY*p):a.wheelDeltaY!==void 0?h=-(a.wheelDeltaY*p):h=s.wheelDelta,t.customComputeDeltaFromMouseWheel)r=t.customComputeDeltaFromMouseWheel(h,t,a);else if(t.wheelDeltaPercentage){if(r=t._computeDeltaFromMouseWheelLegacyEvent(h,t.camera.radius),r>0){for(var o=t.camera.radius,d=t.camera.inertialRadiusOffset+r,f=0;f<20&&Math.abs(d)>.001;f++)o-=d,d*=t.camera.inertia;o=G.Clamp(o,0,Number.MAX_VALUE),r=t._computeDeltaFromMouseWheelLegacyEvent(h,o)}}else r=h/(t.wheelPrecision*40);r&&(t.zoomToMouseLocation&&t._hitPlane?t._zoomToMouse(r):t.camera.inertialRadiusOffset+=r),a.preventDefault&&(e||a.preventDefault())}},this._observer=this.camera.getScene().onPointerObservable.add(this._wheel,g.POINTERWHEEL),this.zoomToMouseLocation&&this._inertialPanning.setAll(0)},n.prototype.detachControl=function(){this._observer&&(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._wheel=null)},n.prototype.checkInputs=function(){if(!!this.zoomToMouseLocation){var e=this.camera,t=0+e.inertialAlphaOffset+e.inertialBetaOffset+e.inertialRadiusOffset;t&&(this._updateHitPlane(),e.target.addInPlace(this._inertialPanning),this._inertialPanning.scaleInPlace(e.inertia),this._zeroIfClose(this._inertialPanning))}},n.prototype.getClassName=function(){return"ArcRotateCameraMouseWheelInput"},n.prototype.getSimpleName=function(){return"mousewheel"},n.prototype._updateHitPlane=function(){var e=this.camera,t=e.target.subtract(e.position);this._hitPlane=$.FromPositionAndNormal(e.target,t)},n.prototype._getPosition=function(){var e,t=this.camera,i=t.getScene(),a=i.createPickingRay(i.pointerX,i.pointerY,m.Identity(),t,!1),r=0;return this._hitPlane&&(r=(e=a.intersectsPlane(this._hitPlane))!==null&&e!==void 0?e:0),a.origin.addInPlace(a.direction.scaleInPlace(r))},n.prototype._zoomToMouse=function(e){var t,i,a=this.camera,r=1-a.inertia;if(a.lowerRadiusLimit){var s=(t=a.lowerRadiusLimit)!==null&&t!==void 0?t:0;a.radius-(a.inertialRadiusOffset+e)/r<s&&(e=(a.radius-s)*r-a.inertialRadiusOffset)}if(a.upperRadiusLimit){var h=(i=a.upperRadiusLimit)!==null&&i!==void 0?i:0;a.radius-(a.inertialRadiusOffset+e)/r>h&&(e=(a.radius-h)*r-a.inertialRadiusOffset)}var p=e/r,o=p/a.radius,d=this._getPosition(),f=S.Vector3[6];d.subtractToRef(a.target,f),f.scaleInPlace(o),f.scaleInPlace(r),this._inertialPanning.addInPlace(f),a.inertialRadiusOffset+=e},n.prototype._zeroIfClose=function(e){Math.abs(e.x)<y&&(e.x=0),Math.abs(e.y)<y&&(e.y=0),Math.abs(e.z)<y&&(e.z=0)},c([l()],n.prototype,"wheelPrecision",void 0),c([l()],n.prototype,"zoomToMouseLocation",void 0),c([l()],n.prototype,"wheelDeltaPercentage",void 0),n}();B.ArcRotateCameraMouseWheelInput=W;var st=function(n){x(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addMouseWheel=function(){return this.add(new W),this},e.prototype.addPointers=function(){return this.add(new U),this},e.prototype.addKeyboard=function(){return this.add(new Y),this},e}(nt);Q.AddNodeConstructor("ArcRotateCamera",function(n,e){return function(){return new ht(n,0,0,1,u.Zero(),e)}});var ht=function(n){x(e,n);function e(t,i,a,r,s,h,p){p===void 0&&(p=!0);var o=n.call(this,t,u.Zero(),h,p)||this;return o.inertialAlphaOffset=0,o.inertialBetaOffset=0,o.inertialRadiusOffset=0,o.lowerAlphaLimit=null,o.upperAlphaLimit=null,o.lowerBetaLimit=.01,o.upperBetaLimit=Math.PI-.01,o.lowerRadiusLimit=null,o.upperRadiusLimit=null,o.inertialPanningX=0,o.inertialPanningY=0,o.pinchToPanMaxDistance=20,o.panningDistanceLimit=null,o.panningOriginTarget=u.Zero(),o.panningInertia=.9,o.zoomOnFactor=1,o.targetScreenOffset=w.Zero(),o.allowUpsideDown=!0,o.useInputToRestoreState=!0,o._viewMatrix=new m,o.panningAxis=new u(1,1,0),o._transformedDirection=new u,o.mapPanning=!1,o.onMeshTargetChangedObservable=new V,o.checkCollisions=!1,o.collisionRadius=new u(.5,.5,.5),o._previousPosition=u.Zero(),o._collisionVelocity=u.Zero(),o._newPosition=u.Zero(),o._computationVector=u.Zero(),o._onCollisionPositionChange=function(d,f,v){v===void 0&&(v=null),v?(o.setPosition(f),o.onCollide&&o.onCollide(v)):o._previousPosition.copyFrom(o._position);var R=Math.cos(o.alpha),O=Math.sin(o.alpha),M=Math.cos(o.beta),P=Math.sin(o.beta);P===0&&(P=1e-4);var I=o._getTargetPosition();o._computationVector.copyFromFloats(o.radius*R*P,o.radius*M,o.radius*O*P),I.addToRef(o._computationVector,o._newPosition),o._position.copyFrom(o._newPosition);var T=o.upVector;o.allowUpsideDown&&o.beta<0&&(T=T.clone(),T=T.negate()),o._computeViewMatrix(o._position,I,T),o._viewMatrix.addAtIndex(12,o.targetScreenOffset.x),o._viewMatrix.addAtIndex(13,o.targetScreenOffset.y),o._collisionTriggered=!1},o._target=u.Zero(),s&&o.setTarget(s),o.alpha=i,o.beta=a,o.radius=r,o.getViewMatrix(),o.inputs=new st(o),o.inputs.addKeyboard().addMouseWheel().addPointers(),o}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetHost",{get:function(){return this._targetHost},set:function(t){t&&this.setTarget(t)},enumerable:!1,configurable:!0}),e.prototype.getTarget=function(){return this.target},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this.setPosition(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upVector",{get:function(){return this._upVector},set:function(t){this._upToYMatrix||(this._yToUpMatrix=new m,this._upToYMatrix=new m,this._upVector=u.Zero()),t.normalize(),this._upVector.copyFrom(t),this.setMatUp()},enumerable:!1,configurable:!0}),e.prototype.setMatUp=function(){m.RotationAlignToRef(u.UpReadOnly,this._upVector,this._yToUpMatrix),m.RotationAlignToRef(this._upVector,u.UpReadOnly,this._upToYMatrix)},Object.defineProperty(e.prototype,"angularSensibilityX",{get:function(){var t=this.inputs.attached.pointers;return t?t.angularSensibilityX:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.angularSensibilityX=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angularSensibilityY",{get:function(){var t=this.inputs.attached.pointers;return t?t.angularSensibilityY:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.angularSensibilityY=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pinchPrecision",{get:function(){var t=this.inputs.attached.pointers;return t?t.pinchPrecision:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.pinchPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pinchDeltaPercentage",{get:function(){var t=this.inputs.attached.pointers;return t?t.pinchDeltaPercentage:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.pinchDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNaturalPinchZoom",{get:function(){var t=this.inputs.attached.pointers;return t?t.useNaturalPinchZoom:!1},set:function(t){var i=this.inputs.attached.pointers;i&&(i.useNaturalPinchZoom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panningSensibility",{get:function(){var t=this.inputs.attached.pointers;return t?t.panningSensibility:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.panningSensibility=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysUp",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysUp:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysUp=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysDown",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysDown:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysDown=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysLeft",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysLeft:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysLeft=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysRight",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysRight:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysRight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wheelPrecision",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.wheelPrecision:0},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.wheelPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zoomToMouseLocation",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.zoomToMouseLocation:!1},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.zoomToMouseLocation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wheelDeltaPercentage",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.wheelDeltaPercentage:0},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.wheelDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bouncingBehavior",{get:function(){return this._bouncingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useBouncingBehavior",{get:function(){return this._bouncingBehavior!=null},set:function(t){t!==this.useBouncingBehavior&&(t?(this._bouncingBehavior=new et,this.addBehavior(this._bouncingBehavior)):this._bouncingBehavior&&(this.removeBehavior(this._bouncingBehavior),this._bouncingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"framingBehavior",{get:function(){return this._framingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useFramingBehavior",{get:function(){return this._framingBehavior!=null},set:function(t){t!==this.useFramingBehavior&&(t?(this._framingBehavior=new it,this.addBehavior(this._framingBehavior)):this._framingBehavior&&(this.removeBehavior(this._framingBehavior),this._framingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoRotationBehavior",{get:function(){return this._autoRotationBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useAutoRotationBehavior",{get:function(){return this._autoRotationBehavior!=null},set:function(t){t!==this.useAutoRotationBehavior&&(t?(this._autoRotationBehavior=new tt,this.addBehavior(this._autoRotationBehavior)):this._autoRotationBehavior&&(this.removeBehavior(this._autoRotationBehavior),this._autoRotationBehavior=null))},enumerable:!1,configurable:!0}),e.prototype._initCache=function(){n.prototype._initCache.call(this),this._cache._target=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.alpha=void 0,this._cache.beta=void 0,this._cache.radius=void 0,this._cache.targetScreenOffset=w.Zero()},e.prototype._updateCache=function(t){t||n.prototype._updateCache.call(this),this._cache._target.copyFrom(this._getTargetPosition()),this._cache.alpha=this.alpha,this._cache.beta=this.beta,this._cache.radius=this.radius,this._cache.targetScreenOffset.copyFrom(this.targetScreenOffset)},e.prototype._getTargetPosition=function(){if(this._targetHost&&this._targetHost.getAbsolutePosition){var t=this._targetHost.getAbsolutePosition();this._targetBoundingCenter?t.addToRef(this._targetBoundingCenter,this._target):this._target.copyFrom(t)}var i=this._getLockedTargetPosition();return i||this._target},e.prototype.storeState=function(){return this._storedAlpha=this.alpha,this._storedBeta=this.beta,this._storedRadius=this.radius,this._storedTarget=this._getTargetPosition().clone(),this._storedTargetScreenOffset=this.targetScreenOffset.clone(),n.prototype.storeState.call(this)},e.prototype._restoreStateValues=function(){return n.prototype._restoreStateValues.call(this)?(this.setTarget(this._storedTarget.clone()),this.alpha=this._storedAlpha,this.beta=this._storedBeta,this.radius=this._storedRadius,this.targetScreenOffset=this._storedTargetScreenOffset.clone(),this.inertialAlphaOffset=0,this.inertialBetaOffset=0,this.inertialRadiusOffset=0,this.inertialPanningX=0,this.inertialPanningY=0,!0):!1},e.prototype._isSynchronizedViewMatrix=function(){return n.prototype._isSynchronizedViewMatrix.call(this)?this._cache._target.equals(this._getTargetPosition())&&this._cache.alpha===this.alpha&&this._cache.beta===this.beta&&this._cache.radius===this.radius&&this._cache.targetScreenOffset.equals(this.targetScreenOffset):!1},e.prototype.attachControl=function(t,i,a,r){var s=this;a===void 0&&(a=!0),r===void 0&&(r=2);var h=arguments;i=A.BackCompatCameraNoPreventDefault(h),this._useCtrlForPanning=a,this._panningMouseButton=r,typeof h[0]=="boolean"&&(h.length>1&&(this._useCtrlForPanning=h[1]),h.length>2&&(this._panningMouseButton=h[2])),this.inputs.attachElement(i),this._reset=function(){s.inertialAlphaOffset=0,s.inertialBetaOffset=0,s.inertialRadiusOffset=0,s.inertialPanningX=0,s.inertialPanningY=0}},e.prototype.detachControl=function(){this.inputs.detachElement(),this._reset&&this._reset()},e.prototype._checkInputs=function(){if(!this._collisionTriggered){if(this.inputs.checkInputs(),this.inertialAlphaOffset!==0||this.inertialBetaOffset!==0||this.inertialRadiusOffset!==0){var t=this.inertialAlphaOffset;this.beta<=0&&(t*=-1),this.getScene().useRightHandedSystem&&(t*=-1),this.parent&&this.parent._getWorldMatrixDeterminant()<0&&(t*=-1),this.alpha+=t,this.beta+=this.inertialBetaOffset,this.radius-=this.inertialRadiusOffset,this.inertialAlphaOffset*=this.inertia,this.inertialBetaOffset*=this.inertia,this.inertialRadiusOffset*=this.inertia,Math.abs(this.inertialAlphaOffset)<y&&(this.inertialAlphaOffset=0),Math.abs(this.inertialBetaOffset)<y&&(this.inertialBetaOffset=0),Math.abs(this.inertialRadiusOffset)<this.speed*y&&(this.inertialRadiusOffset=0)}if(this.inertialPanningX!==0||this.inertialPanningY!==0){var i=new u(this.inertialPanningX,this.inertialPanningY,this.inertialPanningY);if(this._viewMatrix.invertToRef(this._cameraTransformMatrix),i.multiplyInPlace(this.panningAxis),u.TransformNormalToRef(i,this._cameraTransformMatrix,this._transformedDirection),(this.mapPanning||!this.panningAxis.y)&&(this._transformedDirection.y=0),!this._targetHost)if(this.panningDistanceLimit){this._transformedDirection.addInPlace(this._target);var a=u.DistanceSquared(this._transformedDirection,this.panningOriginTarget);a<=this.panningDistanceLimit*this.panningDistanceLimit&&this._target.copyFrom(this._transformedDirection)}else this._target.addInPlace(this._transformedDirection);this.inertialPanningX*=this.panningInertia,this.inertialPanningY*=this.panningInertia,Math.abs(this.inertialPanningX)<this.speed*y&&(this.inertialPanningX=0),Math.abs(this.inertialPanningY)<this.speed*y&&(this.inertialPanningY=0)}this._checkLimits(),n.prototype._checkInputs.call(this)}},e.prototype._checkLimits=function(){this.lowerBetaLimit===null||this.lowerBetaLimit===void 0?this.allowUpsideDown&&this.beta>Math.PI&&(this.beta=this.beta-2*Math.PI):this.beta<this.lowerBetaLimit&&(this.beta=this.lowerBetaLimit),this.upperBetaLimit===null||this.upperBetaLimit===void 0?this.allowUpsideDown&&this.beta<-Math.PI&&(this.beta=this.beta+2*Math.PI):this.beta>this.upperBetaLimit&&(this.beta=this.upperBetaLimit),this.lowerAlphaLimit!==null&&this.alpha<this.lowerAlphaLimit&&(this.alpha=this.lowerAlphaLimit),this.upperAlphaLimit!==null&&this.alpha>this.upperAlphaLimit&&(this.alpha=this.upperAlphaLimit),this.lowerRadiusLimit!==null&&this.radius<this.lowerRadiusLimit&&(this.radius=this.lowerRadiusLimit,this.inertialRadiusOffset=0),this.upperRadiusLimit!==null&&this.radius>this.upperRadiusLimit&&(this.radius=this.upperRadiusLimit,this.inertialRadiusOffset=0)},e.prototype.rebuildAnglesAndRadius=function(){this._position.subtractToRef(this._getTargetPosition(),this._computationVector),(this._upVector.x!==0||this._upVector.y!==1||this._upVector.z!==0)&&u.TransformCoordinatesToRef(this._computationVector,this._upToYMatrix,this._computationVector),this.radius=this._computationVector.length(),this.radius===0&&(this.radius=1e-4);var t=this.alpha;this._computationVector.x===0&&this._computationVector.z===0?this.alpha=Math.PI/2:this.alpha=Math.acos(this._computationVector.x/Math.sqrt(Math.pow(this._computationVector.x,2)+Math.pow(this._computationVector.z,2))),this._computationVector.z<0&&(this.alpha=2*Math.PI-this.alpha);var i=Math.round((t-this.alpha)/(2*Math.PI));this.alpha+=i*2*Math.PI,this.beta=Math.acos(this._computationVector.y/this.radius),this._checkLimits()},e.prototype.setPosition=function(t){this._position.equals(t)||(this._position.copyFrom(t),this.rebuildAnglesAndRadius())},e.prototype.setTarget=function(t,i,a,r){var s;if(i===void 0&&(i=!1),a===void 0&&(a=!1),r===void 0&&(r=!1),r=(s=this.overrideCloneAlphaBetaRadius)!==null&&s!==void 0?s:r,t.getBoundingInfo)i?this._targetBoundingCenter=t.getBoundingInfo().boundingBox.centerWorld.clone():this._targetBoundingCenter=null,t.computeWorldMatrix(),this._targetHost=t,this._target=this._getTargetPosition(),this.onMeshTargetChangedObservable.notifyObservers(this._targetHost);else{var h=t,p=this._getTargetPosition();if(p&&!a&&p.equals(h))return;this._targetHost=null,this._target=h,this._targetBoundingCenter=null,this.onMeshTargetChangedObservable.notifyObservers(null)}r||this.rebuildAnglesAndRadius()},e.prototype._getViewMatrix=function(){var t=Math.cos(this.alpha),i=Math.sin(this.alpha),a=Math.cos(this.beta),r=Math.sin(this.beta);r===0&&(r=1e-4),this.radius===0&&(this.radius=1e-4);var s=this._getTargetPosition();if(this._computationVector.copyFromFloats(this.radius*t*r,this.radius*a,this.radius*i*r),(this._upVector.x!==0||this._upVector.y!==1||this._upVector.z!==0)&&u.TransformCoordinatesToRef(this._computationVector,this._yToUpMatrix,this._computationVector),s.addToRef(this._computationVector,this._newPosition),this.getScene().collisionsEnabled&&this.checkCollisions){var h=this.getScene().collisionCoordinator;this._collider||(this._collider=h.createCollider()),this._collider._radius=this.collisionRadius,this._newPosition.subtractToRef(this._position,this._collisionVelocity),this._collisionTriggered=!0,h.getNewPosition(this._position,this._collisionVelocity,this._collider,3,null,this._onCollisionPositionChange,this.uniqueId)}else{this._position.copyFrom(this._newPosition);var p=this.upVector;this.allowUpsideDown&&r<0&&(p=p.negate()),this._computeViewMatrix(this._position,s,p),this._viewMatrix.addAtIndex(12,this.targetScreenOffset.x),this._viewMatrix.addAtIndex(13,this.targetScreenOffset.y)}return this._currentTarget=s,this._viewMatrix},e.prototype.zoomOn=function(t,i){i===void 0&&(i=!1),t=t||this.getScene().meshes;var a=L.MinMax(t),r=u.Distance(a.min,a.max);this.radius=r*this.zoomOnFactor,this.focusOn({min:a.min,max:a.max,distance:r},i)},e.prototype.focusOn=function(t,i){i===void 0&&(i=!1);var a,r;if(t.min===void 0){var s=t||this.getScene().meshes;a=L.MinMax(s),r=u.Distance(a.min,a.max)}else{var h=t;a=h,r=h.distance}this._target=L.Center(a),i||(this.maxZ=r*2)},e.prototype.createRigCamera=function(t,i){var a=0;switch(this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:case _.RIG_MODE_VR:a=this._cameraRigParams.stereoHalfAngle*(i===0?1:-1);break;case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:a=this._cameraRigParams.stereoHalfAngle*(i===0?-1:1);break}var r=new e(t,this.alpha+a,this.beta,this.radius,this._target,this.getScene());return r._cameraRigParams={},r.isRigCamera=!0,r.rigParent=this,r.upVector=this.upVector,r},e.prototype._updateRigCameras=function(){var t=this._rigCameras[0],i=this._rigCameras[1];switch(t.beta=i.beta=this.beta,this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:case _.RIG_MODE_VR:t.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle,i.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle;break;case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:t.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle,i.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle;break}n.prototype._updateRigCameras.call(this)},e.prototype.dispose=function(){this.inputs.clear(),n.prototype.dispose.call(this)},e.prototype.getClassName=function(){return"ArcRotateCamera"},c([l()],e.prototype,"alpha",void 0),c([l()],e.prototype,"beta",void 0),c([l()],e.prototype,"radius",void 0),c([l()],e.prototype,"overrideCloneAlphaBetaRadius",void 0),c([D("target")],e.prototype,"_target",void 0),c([N("targetHost")],e.prototype,"_targetHost",void 0),c([l()],e.prototype,"inertialAlphaOffset",void 0),c([l()],e.prototype,"inertialBetaOffset",void 0),c([l()],e.prototype,"inertialRadiusOffset",void 0),c([l()],e.prototype,"lowerAlphaLimit",void 0),c([l()],e.prototype,"upperAlphaLimit",void 0),c([l()],e.prototype,"lowerBetaLimit",void 0),c([l()],e.prototype,"upperBetaLimit",void 0),c([l()],e.prototype,"lowerRadiusLimit",void 0),c([l()],e.prototype,"upperRadiusLimit",void 0),c([l()],e.prototype,"inertialPanningX",void 0),c([l()],e.prototype,"inertialPanningY",void 0),c([l()],e.prototype,"pinchToPanMaxDistance",void 0),c([l()],e.prototype,"panningDistanceLimit",void 0),c([D()],e.prototype,"panningOriginTarget",void 0),c([l()],e.prototype,"panningInertia",void 0),c([l()],e.prototype,"zoomToMouseLocation",null),c([l()],e.prototype,"zoomOnFactor",void 0),c([j()],e.prototype,"targetScreenOffset",void 0),c([l()],e.prototype,"allowUpsideDown",void 0),c([l()],e.prototype,"useInputToRestoreState",void 0),e}(at);export{ht as ArcRotateCamera};
