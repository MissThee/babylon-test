import{P as E,O as V,_ as x,j as c,L as j}from"./precisionDate.1704d4c6.js";import{g as D,s as l,i as N,S as k,T as A,j as H}from"./decorators.5af14a95.js";import{Vector3 as u,Vector2 as w,Quaternion as C,Matrix as m,TmpVectors as S}from"./math.vector.560c6bc4.js";import{N as Q}from"./node.3cceef8b.js";import{M as L}from"./mesh.51493cf6.js";import{c as g,K as Z,E as K}from"./scene.7f90ce88.js";import{E as y,S as G}from"./arrayTools.49279cc5.js";import{A as b,B as q,E as z,a as J}from"./animation.df1e8d77.js";import{C as _}from"./materialHelper.8edca65e.js";import{A as F}from"./math.axis.43721c0c.js";import{P as $}from"./math.plane.7ea68d04.js";import"./performanceConfigurator.ee04355d.js";import"./math.color.d29cb8ed.js";import"./abstractMesh.d4d5c19c.js";import"./engine.535c373a.js";import"./perfCounter.4442bbd7.js";import"./engine.dynamicBuffer.fe9de623.js";import"./boundingInfo.26e5828d.js";import"./lightConstants.176abcb0.js";import"./math.functions.3c8565ae.js";import"./material.ddd1f5e1.js";import"./thinMaterialHelper.ab1f33f5.js";import"./math.size.64d00435.js";var tt=function(){function o(){this._zoomStopsAnimation=!1,this._idleRotationSpeed=.05,this._idleRotationWaitTime=2e3,this._idleRotationSpinupTime=2e3,this.targetAlpha=null,this._isPointerDown=!1,this._lastFrameTime=null,this._lastInteractionTime=-1/0,this._cameraRotationSpeed=0,this._lastFrameRadius=0}return Object.defineProperty(o.prototype,"name",{get:function(){return"AutoRotation"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(e){this._zoomStopsAnimation=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"idleRotationSpeed",{get:function(){return this._idleRotationSpeed},set:function(e){this._idleRotationSpeed=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"idleRotationWaitTime",{get:function(){return this._idleRotationWaitTime},set:function(e){this._idleRotationWaitTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"idleRotationSpinupTime",{get:function(){return this._idleRotationSpinupTime},set:function(e){this._idleRotationSpinupTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotationInProgress",{get:function(){return Math.abs(this._cameraRotationSpeed)>0},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.attach=function(e){var t=this;this._attachedCamera=e;var i=this._attachedCamera.getScene();this._onPrePointerObservableObserver=i.onPrePointerObservable.add(function(a){if(a.type===g.POINTERDOWN){t._isPointerDown=!0;return}a.type===g.POINTERUP&&(t._isPointerDown=!1)}),this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){if(!t._reachTargetAlpha()){var a=E.Now,n=0;t._lastFrameTime!=null&&(n=a-t._lastFrameTime),t._lastFrameTime=a,t._applyUserInteraction();var s=a-t._lastInteractionTime-t._idleRotationWaitTime,h=Math.max(Math.min(s/t._idleRotationSpinupTime,1),0);t._cameraRotationSpeed=t._idleRotationSpeed*h,t._attachedCamera&&(t._attachedCamera.alpha-=t._cameraRotationSpeed*(n/1e3))}})},o.prototype.detach=function(){if(!!this._attachedCamera){var e=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&e.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._attachedCamera=null}},o.prototype.resetLastInteractionTime=function(e){this._lastInteractionTime=e!=null?e:E.Now},o.prototype._reachTargetAlpha=function(){return this._attachedCamera&&this.targetAlpha?Math.abs(this._attachedCamera.alpha-this.targetAlpha)<y:!1},o.prototype._userIsZooming=function(){return this._attachedCamera?this._attachedCamera.inertialRadiusOffset!==0:!1},o.prototype._shouldAnimationStopForInteraction=function(){if(!this._attachedCamera)return!1;var e=!1;return this._lastFrameRadius===this._attachedCamera.radius&&this._attachedCamera.inertialRadiusOffset!==0&&(e=!0),this._lastFrameRadius=this._attachedCamera.radius,this._zoomStopsAnimation?e:this._userIsZooming()},o.prototype._applyUserInteraction=function(){this._userIsMoving()&&!this._shouldAnimationStopForInteraction()&&(this._lastInteractionTime=E.Now)},o.prototype._userIsMoving=function(){return this._attachedCamera?this._attachedCamera.inertialAlphaOffset!==0||this._attachedCamera.inertialBetaOffset!==0||this._attachedCamera.inertialRadiusOffset!==0||this._attachedCamera.inertialPanningX!==0||this._attachedCamera.inertialPanningY!==0||this._isPointerDown:!1},o}(),et=function(){function o(){this.transitionDuration=450,this.lowerRadiusTransitionRange=2,this.upperRadiusTransitionRange=-2,this._autoTransitionRange=!1,this._radiusIsAnimating=!1,this._radiusBounceTransition=null,this._animatables=new Array}return Object.defineProperty(o.prototype,"name",{get:function(){return"Bouncing"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoTransitionRange",{get:function(){return this._autoTransitionRange},set:function(e){var t=this;if(this._autoTransitionRange!==e){this._autoTransitionRange=e;var i=this._attachedCamera;!i||(e?this._onMeshTargetChangedObserver=i.onMeshTargetChangedObservable.add(function(a){if(!!a){a.computeWorldMatrix(!0);var n=a.getBoundingInfo().diagonalLength;t.lowerRadiusTransitionRange=n*.05,t.upperRadiusTransitionRange=n*.05}}):this._onMeshTargetChangedObserver&&i.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver))}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.attach=function(e){var t=this;this._attachedCamera=e,this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){!t._attachedCamera||(t._isRadiusAtLimit(t._attachedCamera.lowerRadiusLimit)&&t._applyBoundRadiusAnimation(t.lowerRadiusTransitionRange),t._isRadiusAtLimit(t._attachedCamera.upperRadiusLimit)&&t._applyBoundRadiusAnimation(t.upperRadiusTransitionRange))})},o.prototype.detach=function(){!this._attachedCamera||(this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null)},o.prototype._isRadiusAtLimit=function(e){return this._attachedCamera?this._attachedCamera.radius===e&&!this._radiusIsAnimating:!1},o.prototype._applyBoundRadiusAnimation=function(e){var t=this;if(!!this._attachedCamera){this._radiusBounceTransition||(o.EasingFunction.setEasingMode(o.EasingMode),this._radiusBounceTransition=b.CreateAnimation("radius",b.ANIMATIONTYPE_FLOAT,60,o.EasingFunction)),this._cachedWheelPrecision=this._attachedCamera.wheelPrecision,this._attachedCamera.wheelPrecision=1/0,this._attachedCamera.inertialRadiusOffset=0,this.stopAllAnimations(),this._radiusIsAnimating=!0;var i=b.TransitionTo("radius",this._attachedCamera.radius+e,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusBounceTransition,this.transitionDuration,function(){return t._clearAnimationLocks()});i&&this._animatables.push(i)}},o.prototype._clearAnimationLocks=function(){this._radiusIsAnimating=!1,this._attachedCamera&&(this._attachedCamera.wheelPrecision=this._cachedWheelPrecision)},o.prototype.stopAllAnimations=function(){for(this._attachedCamera&&(this._attachedCamera.animations=[]);this._animatables.length;)this._animatables[0].onAnimationEnd=null,this._animatables[0].stop(),this._animatables.shift()},o.EasingFunction=new q(.3),o.EasingMode=z.EASINGMODE_EASEOUT,o}(),it=function(){function o(){this.onTargetFramingAnimationEndObservable=new V,this._mode=o.FitFrustumSidesMode,this._radiusScale=1,this._positionScale=.5,this._defaultElevation=.3,this._elevationReturnTime=1500,this._elevationReturnWaitTime=1e3,this._zoomStopsAnimation=!1,this._framingTime=1500,this.autoCorrectCameraLimitsAndSensibility=!0,this._isPointerDown=!1,this._lastInteractionTime=-1/0,this._animatables=new Array,this._betaIsAnimating=!1}return Object.defineProperty(o.prototype,"name",{get:function(){return"Framing"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"radiusScale",{get:function(){return this._radiusScale},set:function(e){this._radiusScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"positionScale",{get:function(){return this._positionScale},set:function(e){this._positionScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"defaultElevation",{get:function(){return this._defaultElevation},set:function(e){this._defaultElevation=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"elevationReturnTime",{get:function(){return this._elevationReturnTime},set:function(e){this._elevationReturnTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"elevationReturnWaitTime",{get:function(){return this._elevationReturnWaitTime},set:function(e){this._elevationReturnWaitTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(e){this._zoomStopsAnimation=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"framingTime",{get:function(){return this._framingTime},set:function(e){this._framingTime=e},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.attach=function(e){var t=this;this._attachedCamera=e;var i=this._attachedCamera.getScene();o.EasingFunction.setEasingMode(o.EasingMode),this._onPrePointerObservableObserver=i.onPrePointerObservable.add(function(a){if(a.type===g.POINTERDOWN){t._isPointerDown=!0;return}a.type===g.POINTERUP&&(t._isPointerDown=!1)}),this._onMeshTargetChangedObserver=e.onMeshTargetChangedObservable.add(function(a){a&&t.zoomOnMesh(a,void 0,function(){t.onTargetFramingAnimationEndObservable.notifyObservers()})}),this._onAfterCheckInputsObserver=e.onAfterCheckInputsObservable.add(function(){t._applyUserInteraction(),t._maintainCameraAboveGround()})},o.prototype.detach=function(){if(!!this._attachedCamera){var e=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&e.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null}},o.prototype.zoomOnMesh=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null),e.computeWorldMatrix(!0);var a=e.getBoundingInfo().boundingBox;this.zoomOnBoundingInfo(a.minimumWorld,a.maximumWorld,t,i)},o.prototype.zoomOnMeshHierarchy=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null),e.computeWorldMatrix(!0);var a=e.getHierarchyBoundingVectors(!0);this.zoomOnBoundingInfo(a.min,a.max,t,i)},o.prototype.zoomOnMeshesHierarchy=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=null);for(var a=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=new u(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),s=0;s<e.length;s++){var h=e[s].getHierarchyBoundingVectors(!0);u.CheckExtends(h.min,a,n),u.CheckExtends(h.max,a,n)}this.zoomOnBoundingInfo(a,n,t,i)},o.prototype.zoomOnBoundingInfo=function(e,t,i,a){var n=this;i===void 0&&(i=!1),a===void 0&&(a=null);var s;if(!!this._attachedCamera){var h=e.y,p=t.y,r=h+(p-h)*this._positionScale,d=t.subtract(e).scale(.5);if(i)s=new u(0,r,0);else{var f=e.add(d);s=new u(f.x,r,f.z)}this._vectorTransition||(this._vectorTransition=b.CreateAnimation("target",b.ANIMATIONTYPE_VECTOR3,60,o.EasingFunction)),this._betaIsAnimating=!0;var v=b.TransitionTo("target",s,this._attachedCamera,this._attachedCamera.getScene(),60,this._vectorTransition,this._framingTime);v&&this._animatables.push(v);var R=0;if(this._mode===o.FitFrustumSidesMode){var O=this._calculateLowerRadiusFromModelBoundingSphere(e,t);this.autoCorrectCameraLimitsAndSensibility&&(this._attachedCamera.lowerRadiusLimit=d.length()+this._attachedCamera.minZ),R=O}else this._mode===o.IgnoreBoundsSizeMode&&(R=this._calculateLowerRadiusFromModelBoundingSphere(e,t),this.autoCorrectCameraLimitsAndSensibility&&this._attachedCamera.lowerRadiusLimit===null&&(this._attachedCamera.lowerRadiusLimit=this._attachedCamera.minZ));if(this.autoCorrectCameraLimitsAndSensibility){var M=t.subtract(e).length();this._attachedCamera.panningSensibility=5e3/M,this._attachedCamera.wheelPrecision=100/R}this._radiusTransition||(this._radiusTransition=b.CreateAnimation("radius",b.ANIMATIONTYPE_FLOAT,60,o.EasingFunction)),v=b.TransitionTo("radius",R,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusTransition,this._framingTime,function(){n.stopAllAnimations(),a&&a(),n._attachedCamera&&n._attachedCamera.useInputToRestoreState&&n._attachedCamera.storeState()}),v&&this._animatables.push(v)}},o.prototype._calculateLowerRadiusFromModelBoundingSphere=function(e,t){var i=t.subtract(e),a=i.length(),n=this._getFrustumSlope(),s=a*.5,h=s*this._radiusScale,p=h*Math.sqrt(1+1/(n.x*n.x)),r=h*Math.sqrt(1+1/(n.y*n.y)),d=Math.max(p,r),f=this._attachedCamera;return f?(f.lowerRadiusLimit&&this._mode===o.IgnoreBoundsSizeMode&&(d=d<f.lowerRadiusLimit?f.lowerRadiusLimit:d),f.upperRadiusLimit&&(d=d>f.upperRadiusLimit?f.upperRadiusLimit:d),d):0},o.prototype._maintainCameraAboveGround=function(){var e=this;if(!(this._elevationReturnTime<0)){var t=E.Now-this._lastInteractionTime,i=Math.PI*.5-this._defaultElevation,a=Math.PI*.5;if(this._attachedCamera&&!this._betaIsAnimating&&this._attachedCamera.beta>a&&t>=this._elevationReturnWaitTime){this._betaIsAnimating=!0,this.stopAllAnimations(),this._betaTransition||(this._betaTransition=b.CreateAnimation("beta",b.ANIMATIONTYPE_FLOAT,60,o.EasingFunction));var n=b.TransitionTo("beta",i,this._attachedCamera,this._attachedCamera.getScene(),60,this._betaTransition,this._elevationReturnTime,function(){e._clearAnimationLocks(),e.stopAllAnimations()});n&&this._animatables.push(n)}}},o.prototype._getFrustumSlope=function(){var e=this._attachedCamera;if(!e)return w.Zero();var t=e.getScene().getEngine(),i=t.getAspectRatio(e),a=Math.tan(e.fov/2),n=a*i;return new w(n,a)},o.prototype._clearAnimationLocks=function(){this._betaIsAnimating=!1},o.prototype._applyUserInteraction=function(){this.isUserIsMoving&&(this._lastInteractionTime=E.Now,this.stopAllAnimations(),this._clearAnimationLocks())},o.prototype.stopAllAnimations=function(){for(this._attachedCamera&&(this._attachedCamera.animations=[]);this._animatables.length;)this._animatables[0]&&(this._animatables[0].onAnimationEnd=null,this._animatables[0].stop()),this._animatables.shift()},Object.defineProperty(o.prototype,"isUserIsMoving",{get:function(){return this._attachedCamera?this._attachedCamera.inertialAlphaOffset!==0||this._attachedCamera.inertialBetaOffset!==0||this._attachedCamera.inertialRadiusOffset!==0||this._attachedCamera.inertialPanningX!==0||this._attachedCamera.inertialPanningY!==0||this._isPointerDown:!1},enumerable:!1,configurable:!0}),o.EasingFunction=new J,o.EasingMode=z.EASINGMODE_EASEINOUT,o.IgnoreBoundsSizeMode=0,o.FitFrustumSidesMode=1,o}(),at=function(o){x(e,o);function e(t,i,a,n){n===void 0&&(n=!0);var s=o.call(this,t,i,a,n)||this;return s._tmpUpVector=u.Zero(),s._tmpTargetVector=u.Zero(),s.cameraDirection=new u(0,0,0),s.cameraRotation=new w(0,0),s.ignoreParentScaling=!1,s.updateUpVectorFromRotation=!1,s._tmpQuaternion=new C,s.rotation=new u(0,0,0),s.speed=2,s.noRotationConstraint=!1,s.invertRotation=!1,s.inverseRotationSpeed=.2,s.lockedTarget=null,s._currentTarget=u.Zero(),s._initialFocalDistance=1,s._viewMatrix=m.Zero(),s._camMatrix=m.Zero(),s._cameraTransformMatrix=m.Zero(),s._cameraRotationMatrix=m.Zero(),s._referencePoint=new u(0,0,1),s._transformedReferencePoint=u.Zero(),s._defaultUp=u.Up(),s._cachedRotationZ=0,s._cachedQuaternionRotationZ=0,s}return e.prototype.getFrontPosition=function(t){this.getWorldMatrix();var i=this.getTarget().subtract(this.position);return i.normalize(),i.scaleInPlace(t),this.globalPosition.add(i)},e.prototype._getLockedTargetPosition=function(){return this.lockedTarget?(this.lockedTarget.absolutePosition&&this.lockedTarget.computeWorldMatrix(),this.lockedTarget.absolutePosition||this.lockedTarget):null},e.prototype.storeState=function(){return this._storedPosition=this.position.clone(),this._storedRotation=this.rotation.clone(),this.rotationQuaternion&&(this._storedRotationQuaternion=this.rotationQuaternion.clone()),o.prototype.storeState.call(this)},e.prototype._restoreStateValues=function(){return o.prototype._restoreStateValues.call(this)?(this.position=this._storedPosition.clone(),this.rotation=this._storedRotation.clone(),this.rotationQuaternion&&(this.rotationQuaternion=this._storedRotationQuaternion.clone()),this.cameraDirection.copyFromFloats(0,0,0),this.cameraRotation.copyFromFloats(0,0),!0):!1},e.prototype._initCache=function(){o.prototype._initCache.call(this),this._cache.lockedTarget=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotation=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotationQuaternion=new C(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype._updateCache=function(t){t||o.prototype._updateCache.call(this);var i=this._getLockedTargetPosition();i?this._cache.lockedTarget?this._cache.lockedTarget.copyFrom(i):this._cache.lockedTarget=i.clone():this._cache.lockedTarget=null,this._cache.rotation.copyFrom(this.rotation),this.rotationQuaternion&&this._cache.rotationQuaternion.copyFrom(this.rotationQuaternion)},e.prototype._isSynchronizedViewMatrix=function(){if(!o.prototype._isSynchronizedViewMatrix.call(this))return!1;var t=this._getLockedTargetPosition();return(this._cache.lockedTarget?this._cache.lockedTarget.equals(t):!t)&&(this.rotationQuaternion?this.rotationQuaternion.equals(this._cache.rotationQuaternion):this._cache.rotation.equals(this.rotation))},e.prototype._computeLocalCameraSpeed=function(){var t=this.getEngine();return this.speed*Math.sqrt(t.getDeltaTime()/(t.getFps()*100))},e.prototype.setTarget=function(t){this.upVector.normalize(),this._initialFocalDistance=t.subtract(this.position).length(),this.position.z===t.z&&(this.position.z+=y),this._referencePoint.normalize().scaleInPlace(this._initialFocalDistance),m.LookAtLHToRef(this.position,t,this._defaultUp,this._camMatrix),this._camMatrix.invert(),this.rotation.x=Math.atan(this._camMatrix.m[6]/this._camMatrix.m[10]);var i=t.subtract(this.position);i.x>=0?this.rotation.y=-Math.atan(i.z/i.x)+Math.PI/2:this.rotation.y=-Math.atan(i.z/i.x)-Math.PI/2,this.rotation.z=0,isNaN(this.rotation.x)&&(this.rotation.x=0),isNaN(this.rotation.y)&&(this.rotation.y=0),isNaN(this.rotation.z)&&(this.rotation.z=0),this.rotationQuaternion&&C.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)},Object.defineProperty(e.prototype,"target",{get:function(){return this.getTarget()},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),e.prototype.getTarget=function(){return this._currentTarget},e.prototype._decideIfNeedsToMove=function(){return Math.abs(this.cameraDirection.x)>0||Math.abs(this.cameraDirection.y)>0||Math.abs(this.cameraDirection.z)>0},e.prototype._updatePosition=function(){if(this.parent){this.parent.getWorldMatrix().invertToRef(S.Matrix[0]),u.TransformNormalToRef(this.cameraDirection,S.Matrix[0],S.Vector3[0]),this.position.addInPlace(S.Vector3[0]);return}this.position.addInPlace(this.cameraDirection)},e.prototype._checkInputs=function(){var t=this.invertRotation?-this.inverseRotationSpeed:1,i=this._decideIfNeedsToMove(),a=Math.abs(this.cameraRotation.x)>0||Math.abs(this.cameraRotation.y)>0;if(i&&this._updatePosition(),a){if(this.rotationQuaternion&&this.rotationQuaternion.toEulerAnglesToRef(this.rotation),this.rotation.x+=this.cameraRotation.x*t,this.rotation.y+=this.cameraRotation.y*t,!this.noRotationConstraint){var n=1.570796;this.rotation.x>n&&(this.rotation.x=n),this.rotation.x<-n&&(this.rotation.x=-n)}if(this.rotationQuaternion){var s=this.rotation.lengthSquared();s&&C.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)}}i&&(Math.abs(this.cameraDirection.x)<this.speed*y&&(this.cameraDirection.x=0),Math.abs(this.cameraDirection.y)<this.speed*y&&(this.cameraDirection.y=0),Math.abs(this.cameraDirection.z)<this.speed*y&&(this.cameraDirection.z=0),this.cameraDirection.scaleInPlace(this.inertia)),a&&(Math.abs(this.cameraRotation.x)<this.speed*y&&(this.cameraRotation.x=0),Math.abs(this.cameraRotation.y)<this.speed*y&&(this.cameraRotation.y=0),this.cameraRotation.scaleInPlace(this.inertia)),o.prototype._checkInputs.call(this)},e.prototype._updateCameraRotationMatrix=function(){this.rotationQuaternion?this.rotationQuaternion.toRotationMatrix(this._cameraRotationMatrix):m.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this._cameraRotationMatrix)},e.prototype._rotateUpVectorWithCameraRotationMatrix=function(){return u.TransformNormalToRef(this._defaultUp,this._cameraRotationMatrix,this.upVector),this},e.prototype._getViewMatrix=function(){return this.lockedTarget&&this.setTarget(this._getLockedTargetPosition()),this._updateCameraRotationMatrix(),this.rotationQuaternion&&this._cachedQuaternionRotationZ!=this.rotationQuaternion.z?(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedQuaternionRotationZ=this.rotationQuaternion.z):this._cachedRotationZ!==this.rotation.z&&(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedRotationZ=this.rotation.z),u.TransformCoordinatesToRef(this._referencePoint,this._cameraRotationMatrix,this._transformedReferencePoint),this.position.addToRef(this._transformedReferencePoint,this._currentTarget),this.updateUpVectorFromRotation&&(this.rotationQuaternion?F.Y.rotateByQuaternionToRef(this.rotationQuaternion,this.upVector):(C.FromEulerVectorToRef(this.rotation,this._tmpQuaternion),F.Y.rotateByQuaternionToRef(this._tmpQuaternion,this.upVector))),this._computeViewMatrix(this.position,this._currentTarget,this.upVector),this._viewMatrix},e.prototype._computeViewMatrix=function(t,i,a){if(this.ignoreParentScaling){if(this.parent){var n=this.parent.getWorldMatrix();u.TransformCoordinatesToRef(t,n,this._globalPosition),u.TransformCoordinatesToRef(i,n,this._tmpTargetVector),u.TransformNormalToRef(a,n,this._tmpUpVector),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t),this._tmpTargetVector.copyFrom(i),this._tmpUpVector.copyFrom(a);this.getScene().useRightHandedSystem?m.LookAtRHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix):m.LookAtLHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix);return}if(this.getScene().useRightHandedSystem?m.LookAtRHToRef(t,i,a,this._viewMatrix):m.LookAtLHToRef(t,i,a,this._viewMatrix),this.parent){var n=this.parent.getWorldMatrix();this._viewMatrix.invert(),this._viewMatrix.multiplyToRef(n,this._viewMatrix),this._viewMatrix.getTranslationToRef(this._globalPosition),this._viewMatrix.invert(),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t)},e.prototype.createRigCamera=function(t,i){if(this.cameraRigMode!==_.RIG_MODE_NONE){var a=new e(t,this.position.clone(),this.getScene());return a.isRigCamera=!0,a.rigParent=this,(this.cameraRigMode===_.RIG_MODE_VR||this.cameraRigMode===_.RIG_MODE_WEBVR)&&(this.rotationQuaternion||(this.rotationQuaternion=new C),a._cameraRigParams={},a.rotationQuaternion=new C),a.mode=this.mode,a.orthoLeft=this.orthoLeft,a.orthoRight=this.orthoRight,a.orthoTop=this.orthoTop,a.orthoBottom=this.orthoBottom,a}return null},e.prototype._updateRigCameras=function(){var t=this._rigCameras[0],i=this._rigCameras[1];switch(this.computeWorldMatrix(),this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:{var a=this.cameraRigMode===_.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?1:-1,n=this.cameraRigMode===_.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?-1:1;this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*a,t),this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*n,i);break}case _.RIG_MODE_VR:t.rotationQuaternion?(t.rotationQuaternion.copyFrom(this.rotationQuaternion),i.rotationQuaternion.copyFrom(this.rotationQuaternion)):(t.rotation.copyFrom(this.rotation),i.rotation.copyFrom(this.rotation)),t.position.copyFrom(this.position),i.position.copyFrom(this.position);break}o.prototype._updateRigCameras.call(this)},e.prototype._getRigCamPositionAndTarget=function(t,i){var a=this.getTarget();a.subtractToRef(this.position,e._TargetFocalPoint),e._TargetFocalPoint.normalize().scaleInPlace(this._initialFocalDistance);var n=e._TargetFocalPoint.addInPlace(this.position);m.TranslationToRef(-n.x,-n.y,-n.z,e._TargetTransformMatrix),e._TargetTransformMatrix.multiplyToRef(m.RotationAxis(i.upVector,t),e._RigCamTransformMatrix),m.TranslationToRef(n.x,n.y,n.z,e._TargetTransformMatrix),e._RigCamTransformMatrix.multiplyToRef(e._TargetTransformMatrix,e._RigCamTransformMatrix),u.TransformCoordinatesToRef(this.position,e._RigCamTransformMatrix,i.position),i.setTarget(n)},e.prototype.getClassName=function(){return"TargetCamera"},e._RigCamTransformMatrix=new m,e._TargetTransformMatrix=new m,e._TargetFocalPoint=new u,c([D()],e.prototype,"rotation",void 0),c([l()],e.prototype,"speed",void 0),c([N("lockedTargetId")],e.prototype,"lockedTarget",void 0),e}(_),B={},ot=function(){function o(e){this.attachedToElement=!1,this.attached={},this.camera=e,this.checkInputs=function(){}}return o.prototype.add=function(e){var t=e.getSimpleName();if(this.attached[t]){j.Warn("camera input of type "+t+" already exists on camera");return}this.attached[t]=e,e.camera=this.camera,e.checkInputs&&(this.checkInputs=this._addCheckInputs(e.checkInputs.bind(e))),this.attachedToElement&&e.attachControl()},o.prototype.remove=function(e){for(var t in this.attached){var i=this.attached[t];i===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},o.prototype.removeByType=function(e){for(var t in this.attached){var i=this.attached[t];i.getClassName()===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},o.prototype._addCheckInputs=function(e){var t=this.checkInputs;return function(){t(),e()}},o.prototype.attachInput=function(e){this.attachedToElement&&e.attachControl(this.noPreventDefault)},o.prototype.attachElement=function(e){if(e===void 0&&(e=!1),!this.attachedToElement){e=_.ForceAttachControlToAlwaysPreventDefault?!1:e,this.attachedToElement=!0,this.noPreventDefault=e;for(var t in this.attached)this.attached[t].attachControl(e)}},o.prototype.detachElement=function(e){e===void 0&&(e=!1);for(var t in this.attached)this.attached[t].detachControl(),e&&(this.attached[t].camera=null);this.attachedToElement=!1},o.prototype.rebuildInputCheck=function(){this.checkInputs=function(){};for(var e in this.attached){var t=this.attached[e];t.checkInputs&&(this.checkInputs=this._addCheckInputs(t.checkInputs.bind(t)))}},o.prototype.clear=function(){this.attachedToElement&&this.detachElement(!0),this.attached={},this.attachedToElement=!1,this.checkInputs=function(){}},o.prototype.serialize=function(e){var t={};for(var i in this.attached){var a=this.attached[i],n=k.Serialize(a);t[a.getClassName()]=n}e.inputsmgr=t},o.prototype.parse=function(e){var t=e.inputsmgr;if(t){this.clear();var i=function(p){var r=B[p];if(r){var d=t[p],f=k.Parse(function(){return new r},d,null);a.add(f)}},a=this;for(var n in t)i(n)}else{var s=function(p){var r=B[h.attached[p].getClassName()];if(r){var d=k.Parse(function(){return new r},e,null);h.remove(h.attached[p]),h.add(d)}},h=this;for(var n in this.attached)s(n)}},o}(),nt=function(){function o(){this._currentActiveButton=-1,this.buttons=[0,1,2]}return o.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments);var i=this.camera.getEngine(),a=i.getInputElement(),n=0,s=null;this._pointA=null,this._pointB=null,this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0,this._pointerInput=function(p){var r=p.event,d=r.pointerType==="touch";if(!i.isInVRExclusivePointerMode&&!(p.type!==g.POINTERMOVE&&t.buttons.indexOf(r.button)===-1)){var f=r.srcElement||r.target;if(t._altKey=r.altKey,t._ctrlKey=r.ctrlKey,t._metaKey=r.metaKey,t._shiftKey=r.shiftKey,t._buttonsPressed=r.buttons,i.isPointerLock){var v=r.movementX||r.mozMovementX||r.webkitMovementX||r.msMovementX||0,R=r.movementY||r.mozMovementY||r.webkitMovementY||r.msMovementY||0;t.onTouch(null,v,R),t._pointA=null,t._pointB=null}else if(p.type===g.POINTERDOWN&&(t._currentActiveButton===-1||d)){try{f==null||f.setPointerCapture(r.pointerId)}catch{}t._pointA===null?t._pointA={x:r.clientX,y:r.clientY,pointerId:r.pointerId,type:r.pointerType}:t._pointB===null&&(t._pointB={x:r.clientX,y:r.clientY,pointerId:r.pointerId,type:r.pointerType}),t._currentActiveButton===-1&&!d&&(t._currentActiveButton=r.button),t.onButtonDown(r),e||(r.preventDefault(),a&&a.focus())}else if(p.type===g.POINTERDOUBLETAP)t.onDoubleTap(r.pointerType);else if(p.type===g.POINTERUP&&(t._currentActiveButton===r.button||d)){try{f==null||f.releasePointerCapture(r.pointerId)}catch{}d||(t._pointB=null),i._badOS?t._pointA=t._pointB=null:t._pointB&&t._pointA&&t._pointA.pointerId==r.pointerId?(t._pointA=t._pointB,t._pointB=null):t._pointA&&t._pointB&&t._pointB.pointerId==r.pointerId?t._pointB=null:t._pointA=t._pointB=null,(n!==0||s)&&(t.onMultiTouch(t._pointA,t._pointB,n,0,s,null),n=0,s=null),t._currentActiveButton=-1,t.onButtonUp(r),e||r.preventDefault()}else if(p.type===g.POINTERMOVE){if(e||r.preventDefault(),t._pointA&&t._pointB===null){var v=r.clientX-t._pointA.x,R=r.clientY-t._pointA.y;t.onTouch(t._pointA,v,R),t._pointA.x=r.clientX,t._pointA.y=r.clientY}else if(t._pointA&&t._pointB){var O=t._pointA.pointerId===r.pointerId?t._pointA:t._pointB;O.x=r.clientX,O.y=r.clientY;var M=t._pointA.x-t._pointB.x,P=t._pointA.y-t._pointB.y,I=M*M+P*P,T={x:(t._pointA.x+t._pointB.x)/2,y:(t._pointA.y+t._pointB.y)/2,pointerId:r.pointerId,type:p.type};t.onMultiTouch(t._pointA,t._pointB,n,I,s,T),s=T,n=I}}}},this._observer=this.camera.getScene().onPointerObservable.add(this._pointerInput,g.POINTERDOWN|g.POINTERUP|g.POINTERMOVE|g.POINTERDOUBLETAP),this._onLostFocus=function(){t._pointA=t._pointB=null,n=0,s=null,t.onLostFocus()},this._contextMenuBind=this.onContextMenu.bind(this),a&&a.addEventListener("contextmenu",this._contextMenuBind,!1);var h=this.camera.getScene().getEngine().getHostWindow();h&&A.RegisterTopRootEvents(h,[{name:"blur",handler:this._onLostFocus}])},o.prototype.detachControl=function(){if(this._onLostFocus){var e=this.camera.getScene().getEngine().getHostWindow();e&&A.UnregisterTopRootEvents(e,[{name:"blur",handler:this._onLostFocus}])}if(this._observer){if(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._contextMenuBind){var t=this.camera.getScene().getEngine().getInputElement();t&&t.removeEventListener("contextmenu",this._contextMenuBind)}this._onLostFocus=null}this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0,this._currentActiveButton=-1},o.prototype.getClassName=function(){return"BaseCameraPointersInput"},o.prototype.getSimpleName=function(){return"pointers"},o.prototype.onDoubleTap=function(e){},o.prototype.onTouch=function(e,t,i){},o.prototype.onMultiTouch=function(e,t,i,a,n,s){},o.prototype.onContextMenu=function(e){e.preventDefault()},o.prototype.onButtonDown=function(e){},o.prototype.onButtonUp=function(e){},o.prototype.onLostFocus=function(){},c([l()],o.prototype,"buttons",void 0),o}(),U=function(o){x(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.buttons=[0,1,2],t.angularSensibilityX=1e3,t.angularSensibilityY=1e3,t.pinchPrecision=12,t.pinchDeltaPercentage=0,t.useNaturalPinchZoom=!1,t.pinchZoom=!0,t.panningSensibility=1e3,t.multiTouchPanning=!0,t.multiTouchPanAndZoom=!0,t.pinchInwards=!0,t._isPanClick=!1,t._twoFingerActivityCount=0,t._isPinching=!1,t}return e.prototype.getClassName=function(){return"ArcRotateCameraPointersInput"},e.prototype._computeMultiTouchPanning=function(t,i){if(this.panningSensibility!==0&&t&&i){var a=i.x-t.x,n=i.y-t.y;this.camera.inertialPanningX+=-a/this.panningSensibility,this.camera.inertialPanningY+=n/this.panningSensibility}},e.prototype._computePinchZoom=function(t,i){var a=this.camera.radius||e.MinimumRadiusForPinch;this.useNaturalPinchZoom?this.camera.radius=a*Math.sqrt(t)/Math.sqrt(i):this.pinchDeltaPercentage?this.camera.inertialRadiusOffset+=(i-t)*.001*a*this.pinchDeltaPercentage:this.camera.inertialRadiusOffset+=(i-t)/(this.pinchPrecision*(this.pinchInwards?1:-1)*(this.angularSensibilityX+this.angularSensibilityY)/2)},e.prototype.onTouch=function(t,i,a){this.panningSensibility!==0&&(this._ctrlKey&&this.camera._useCtrlForPanning||this._isPanClick)?(this.camera.inertialPanningX+=-i/this.panningSensibility,this.camera.inertialPanningY+=a/this.panningSensibility):(this.camera.inertialAlphaOffset-=i/this.angularSensibilityX,this.camera.inertialBetaOffset-=a/this.angularSensibilityY)},e.prototype.onDoubleTap=function(){this.camera.useInputToRestoreState&&this.camera.restoreState()},e.prototype.onMultiTouch=function(t,i,a,n,s,h){a===0&&s===null||n===0&&h===null||(this.multiTouchPanAndZoom?(this._computePinchZoom(a,n),this._computeMultiTouchPanning(s,h)):this.multiTouchPanning&&this.pinchZoom?(this._twoFingerActivityCount++,this._isPinching||this._twoFingerActivityCount<20&&Math.abs(Math.sqrt(n)-Math.sqrt(a))>this.camera.pinchToPanMaxDistance?(this._computePinchZoom(a,n),this._isPinching=!0):this._computeMultiTouchPanning(s,h)):this.multiTouchPanning?this._computeMultiTouchPanning(s,h):this.pinchZoom&&this._computePinchZoom(a,n))},e.prototype.onButtonDown=function(t){this._isPanClick=t.button===this.camera._panningMouseButton},e.prototype.onButtonUp=function(){this._twoFingerActivityCount=0,this._isPinching=!1},e.prototype.onLostFocus=function(){this._isPanClick=!1,this._twoFingerActivityCount=0,this._isPinching=!1},e.MinimumRadiusForPinch=.001,c([l()],e.prototype,"buttons",void 0),c([l()],e.prototype,"angularSensibilityX",void 0),c([l()],e.prototype,"angularSensibilityY",void 0),c([l()],e.prototype,"pinchPrecision",void 0),c([l()],e.prototype,"pinchDeltaPercentage",void 0),c([l()],e.prototype,"useNaturalPinchZoom",void 0),c([l()],e.prototype,"pinchZoom",void 0),c([l()],e.prototype,"panningSensibility",void 0),c([l()],e.prototype,"multiTouchPanning",void 0),c([l()],e.prototype,"multiTouchPanAndZoom",void 0),e}(nt);B.ArcRotateCameraPointersInput=U;var Y=function(){function o(){this.keysUp=[38],this.keysDown=[40],this.keysLeft=[37],this.keysRight=[39],this.keysReset=[220],this.panningSensibility=50,this.zoomingSensibility=25,this.useAltToZoom=!0,this.angularSpeed=.01,this._keys=new Array}return o.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments),!this._onCanvasBlurObserver&&(this._scene=this.camera.getScene(),this._engine=this._scene.getEngine(),this._onCanvasBlurObserver=this._engine.onCanvasBlurObservable.add(function(){t._keys.length=0}),this._onKeyboardObserver=this._scene.onKeyboardObservable.add(function(i){var a=i.event;if(!a.metaKey){if(i.type===Z.KEYDOWN){if(t._ctrlPressed=a.ctrlKey,t._altPressed=a.altKey,t.keysUp.indexOf(a.keyCode)!==-1||t.keysDown.indexOf(a.keyCode)!==-1||t.keysLeft.indexOf(a.keyCode)!==-1||t.keysRight.indexOf(a.keyCode)!==-1||t.keysReset.indexOf(a.keyCode)!==-1){var n=t._keys.indexOf(a.keyCode);n===-1&&t._keys.push(a.keyCode),a.preventDefault&&(e||a.preventDefault())}}else if(t.keysUp.indexOf(a.keyCode)!==-1||t.keysDown.indexOf(a.keyCode)!==-1||t.keysLeft.indexOf(a.keyCode)!==-1||t.keysRight.indexOf(a.keyCode)!==-1||t.keysReset.indexOf(a.keyCode)!==-1){var n=t._keys.indexOf(a.keyCode);n>=0&&t._keys.splice(n,1),a.preventDefault&&(e||a.preventDefault())}}}))},o.prototype.detachControl=function(){this._scene&&(this._onKeyboardObserver&&this._scene.onKeyboardObservable.remove(this._onKeyboardObserver),this._onCanvasBlurObserver&&this._engine.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onKeyboardObserver=null,this._onCanvasBlurObserver=null),this._keys.length=0},o.prototype.checkInputs=function(){if(this._onKeyboardObserver)for(var e=this.camera,t=0;t<this._keys.length;t++){var i=this._keys[t];this.keysLeft.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningX-=1/this.panningSensibility:e.inertialAlphaOffset-=this.angularSpeed:this.keysUp.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningY+=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?e.inertialRadiusOffset+=1/this.zoomingSensibility:e.inertialBetaOffset-=this.angularSpeed:this.keysRight.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningX+=1/this.panningSensibility:e.inertialAlphaOffset+=this.angularSpeed:this.keysDown.indexOf(i)!==-1?this._ctrlPressed&&this.camera._useCtrlForPanning?e.inertialPanningY-=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?e.inertialRadiusOffset-=1/this.zoomingSensibility:e.inertialBetaOffset+=this.angularSpeed:this.keysReset.indexOf(i)!==-1&&e.useInputToRestoreState&&e.restoreState()}},o.prototype.getClassName=function(){return"ArcRotateCameraKeyboardMoveInput"},o.prototype.getSimpleName=function(){return"keyboard"},c([l()],o.prototype,"keysUp",void 0),c([l()],o.prototype,"keysDown",void 0),c([l()],o.prototype,"keysLeft",void 0),c([l()],o.prototype,"keysRight",void 0),c([l()],o.prototype,"keysReset",void 0),c([l()],o.prototype,"panningSensibility",void 0),c([l()],o.prototype,"zoomingSensibility",void 0),c([l()],o.prototype,"useAltToZoom",void 0),c([l()],o.prototype,"angularSpeed",void 0),o}();B.ArcRotateCameraKeyboardMoveInput=Y;var rt=40,W=function(){function o(){this.wheelPrecision=3,this.zoomToMouseLocation=!1,this.wheelDeltaPercentage=0,this.customComputeDeltaFromMouseWheel=null,this._inertialPanning=u.Zero()}return o.prototype._computeDeltaFromMouseWheelLegacyEvent=function(e,t){var i=0,a=e*.01*this.wheelDeltaPercentage*t;return e>0?i=a/(1+this.wheelDeltaPercentage):i=a*(1+this.wheelDeltaPercentage),i},o.prototype.attachControl=function(e){var t=this;e=A.BackCompatCameraNoPreventDefault(arguments),this._wheel=function(i){if(i.type===g.POINTERWHEEL){var a=i.event,n=0,s=a,h=0,p=a.deltaMode===K.DOM_DELTA_LINE?rt:1;if(a.deltaY!==void 0?h=-(a.deltaY*p):a.wheelDeltaY!==void 0?h=-(a.wheelDeltaY*p):h=s.wheelDelta,t.customComputeDeltaFromMouseWheel)n=t.customComputeDeltaFromMouseWheel(h,t,a);else if(t.wheelDeltaPercentage){if(n=t._computeDeltaFromMouseWheelLegacyEvent(h,t.camera.radius),n>0){for(var r=t.camera.radius,d=t.camera.inertialRadiusOffset+n,f=0;f<20&&Math.abs(d)>.001;f++)r-=d,d*=t.camera.inertia;r=G.Clamp(r,0,Number.MAX_VALUE),n=t._computeDeltaFromMouseWheelLegacyEvent(h,r)}}else n=h/(t.wheelPrecision*40);n&&(t.zoomToMouseLocation&&t._hitPlane?t._zoomToMouse(n):t.camera.inertialRadiusOffset+=n),a.preventDefault&&(e||a.preventDefault())}},this._observer=this.camera.getScene().onPointerObservable.add(this._wheel,g.POINTERWHEEL),this.zoomToMouseLocation&&this._inertialPanning.setAll(0)},o.prototype.detachControl=function(){this._observer&&(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._wheel=null)},o.prototype.checkInputs=function(){if(!!this.zoomToMouseLocation){var e=this.camera,t=0+e.inertialAlphaOffset+e.inertialBetaOffset+e.inertialRadiusOffset;t&&(this._updateHitPlane(),e.target.addInPlace(this._inertialPanning),this._inertialPanning.scaleInPlace(e.inertia),this._zeroIfClose(this._inertialPanning))}},o.prototype.getClassName=function(){return"ArcRotateCameraMouseWheelInput"},o.prototype.getSimpleName=function(){return"mousewheel"},o.prototype._updateHitPlane=function(){var e=this.camera,t=e.target.subtract(e.position);this._hitPlane=$.FromPositionAndNormal(e.target,t)},o.prototype._getPosition=function(){var e,t=this.camera,i=t.getScene(),a=i.createPickingRay(i.pointerX,i.pointerY,m.Identity(),t,!1),n=0;return this._hitPlane&&(n=(e=a.intersectsPlane(this._hitPlane))!==null&&e!==void 0?e:0),a.origin.addInPlace(a.direction.scaleInPlace(n))},o.prototype._zoomToMouse=function(e){var t,i,a=this.camera,n=1-a.inertia;if(a.lowerRadiusLimit){var s=(t=a.lowerRadiusLimit)!==null&&t!==void 0?t:0;a.radius-(a.inertialRadiusOffset+e)/n<s&&(e=(a.radius-s)*n-a.inertialRadiusOffset)}if(a.upperRadiusLimit){var h=(i=a.upperRadiusLimit)!==null&&i!==void 0?i:0;a.radius-(a.inertialRadiusOffset+e)/n>h&&(e=(a.radius-h)*n-a.inertialRadiusOffset)}var p=e/n,r=p/a.radius,d=this._getPosition(),f=S.Vector3[6];d.subtractToRef(a.target,f),f.scaleInPlace(r),f.scaleInPlace(n),this._inertialPanning.addInPlace(f),a.inertialRadiusOffset+=e},o.prototype._zeroIfClose=function(e){Math.abs(e.x)<y&&(e.x=0),Math.abs(e.y)<y&&(e.y=0),Math.abs(e.z)<y&&(e.z=0)},c([l()],o.prototype,"wheelPrecision",void 0),c([l()],o.prototype,"zoomToMouseLocation",void 0),c([l()],o.prototype,"wheelDeltaPercentage",void 0),o}();B.ArcRotateCameraMouseWheelInput=W;var st=function(o){x(e,o);function e(t){return o.call(this,t)||this}return e.prototype.addMouseWheel=function(){return this.add(new W),this},e.prototype.addPointers=function(){return this.add(new U),this},e.prototype.addKeyboard=function(){return this.add(new Y),this},e}(ot);Q.AddNodeConstructor("ArcRotateCamera",function(o,e){return function(){return new ht(o,0,0,1,u.Zero(),e)}});var ht=function(o){x(e,o);function e(t,i,a,n,s,h,p){p===void 0&&(p=!0);var r=o.call(this,t,u.Zero(),h,p)||this;return r.inertialAlphaOffset=0,r.inertialBetaOffset=0,r.inertialRadiusOffset=0,r.lowerAlphaLimit=null,r.upperAlphaLimit=null,r.lowerBetaLimit=.01,r.upperBetaLimit=Math.PI-.01,r.lowerRadiusLimit=null,r.upperRadiusLimit=null,r.inertialPanningX=0,r.inertialPanningY=0,r.pinchToPanMaxDistance=20,r.panningDistanceLimit=null,r.panningOriginTarget=u.Zero(),r.panningInertia=.9,r.zoomOnFactor=1,r.targetScreenOffset=w.Zero(),r.allowUpsideDown=!0,r.useInputToRestoreState=!0,r._viewMatrix=new m,r.panningAxis=new u(1,1,0),r._transformedDirection=new u,r.mapPanning=!1,r.onMeshTargetChangedObservable=new V,r.checkCollisions=!1,r.collisionRadius=new u(.5,.5,.5),r._previousPosition=u.Zero(),r._collisionVelocity=u.Zero(),r._newPosition=u.Zero(),r._computationVector=u.Zero(),r._onCollisionPositionChange=function(d,f,v){v===void 0&&(v=null),v?(r.setPosition(f),r.onCollide&&r.onCollide(v)):r._previousPosition.copyFrom(r._position);var R=Math.cos(r.alpha),O=Math.sin(r.alpha),M=Math.cos(r.beta),P=Math.sin(r.beta);P===0&&(P=1e-4);var I=r._getTargetPosition();r._computationVector.copyFromFloats(r.radius*R*P,r.radius*M,r.radius*O*P),I.addToRef(r._computationVector,r._newPosition),r._position.copyFrom(r._newPosition);var T=r.upVector;r.allowUpsideDown&&r.beta<0&&(T=T.clone(),T=T.negate()),r._computeViewMatrix(r._position,I,T),r._viewMatrix.addAtIndex(12,r.targetScreenOffset.x),r._viewMatrix.addAtIndex(13,r.targetScreenOffset.y),r._collisionTriggered=!1},r._target=u.Zero(),s&&r.setTarget(s),r.alpha=i,r.beta=a,r.radius=n,r.getViewMatrix(),r.inputs=new st(r),r.inputs.addKeyboard().addMouseWheel().addPointers(),r}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetHost",{get:function(){return this._targetHost},set:function(t){t&&this.setTarget(t)},enumerable:!1,configurable:!0}),e.prototype.getTarget=function(){return this.target},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this.setPosition(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upVector",{get:function(){return this._upVector},set:function(t){this._upToYMatrix||(this._yToUpMatrix=new m,this._upToYMatrix=new m,this._upVector=u.Zero()),t.normalize(),this._upVector.copyFrom(t),this.setMatUp()},enumerable:!1,configurable:!0}),e.prototype.setMatUp=function(){m.RotationAlignToRef(u.UpReadOnly,this._upVector,this._yToUpMatrix),m.RotationAlignToRef(this._upVector,u.UpReadOnly,this._upToYMatrix)},Object.defineProperty(e.prototype,"angularSensibilityX",{get:function(){var t=this.inputs.attached.pointers;return t?t.angularSensibilityX:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.angularSensibilityX=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angularSensibilityY",{get:function(){var t=this.inputs.attached.pointers;return t?t.angularSensibilityY:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.angularSensibilityY=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pinchPrecision",{get:function(){var t=this.inputs.attached.pointers;return t?t.pinchPrecision:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.pinchPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pinchDeltaPercentage",{get:function(){var t=this.inputs.attached.pointers;return t?t.pinchDeltaPercentage:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.pinchDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useNaturalPinchZoom",{get:function(){var t=this.inputs.attached.pointers;return t?t.useNaturalPinchZoom:!1},set:function(t){var i=this.inputs.attached.pointers;i&&(i.useNaturalPinchZoom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panningSensibility",{get:function(){var t=this.inputs.attached.pointers;return t?t.panningSensibility:0},set:function(t){var i=this.inputs.attached.pointers;i&&(i.panningSensibility=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysUp",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysUp:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysUp=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysDown",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysDown:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysDown=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysLeft",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysLeft:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysLeft=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keysRight",{get:function(){var t=this.inputs.attached.keyboard;return t?t.keysRight:[]},set:function(t){var i=this.inputs.attached.keyboard;i&&(i.keysRight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wheelPrecision",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.wheelPrecision:0},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.wheelPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zoomToMouseLocation",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.zoomToMouseLocation:!1},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.zoomToMouseLocation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wheelDeltaPercentage",{get:function(){var t=this.inputs.attached.mousewheel;return t?t.wheelDeltaPercentage:0},set:function(t){var i=this.inputs.attached.mousewheel;i&&(i.wheelDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bouncingBehavior",{get:function(){return this._bouncingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useBouncingBehavior",{get:function(){return this._bouncingBehavior!=null},set:function(t){t!==this.useBouncingBehavior&&(t?(this._bouncingBehavior=new et,this.addBehavior(this._bouncingBehavior)):this._bouncingBehavior&&(this.removeBehavior(this._bouncingBehavior),this._bouncingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"framingBehavior",{get:function(){return this._framingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useFramingBehavior",{get:function(){return this._framingBehavior!=null},set:function(t){t!==this.useFramingBehavior&&(t?(this._framingBehavior=new it,this.addBehavior(this._framingBehavior)):this._framingBehavior&&(this.removeBehavior(this._framingBehavior),this._framingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoRotationBehavior",{get:function(){return this._autoRotationBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useAutoRotationBehavior",{get:function(){return this._autoRotationBehavior!=null},set:function(t){t!==this.useAutoRotationBehavior&&(t?(this._autoRotationBehavior=new tt,this.addBehavior(this._autoRotationBehavior)):this._autoRotationBehavior&&(this.removeBehavior(this._autoRotationBehavior),this._autoRotationBehavior=null))},enumerable:!1,configurable:!0}),e.prototype._initCache=function(){o.prototype._initCache.call(this),this._cache._target=new u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.alpha=void 0,this._cache.beta=void 0,this._cache.radius=void 0,this._cache.targetScreenOffset=w.Zero()},e.prototype._updateCache=function(t){t||o.prototype._updateCache.call(this),this._cache._target.copyFrom(this._getTargetPosition()),this._cache.alpha=this.alpha,this._cache.beta=this.beta,this._cache.radius=this.radius,this._cache.targetScreenOffset.copyFrom(this.targetScreenOffset)},e.prototype._getTargetPosition=function(){if(this._targetHost&&this._targetHost.getAbsolutePosition){var t=this._targetHost.getAbsolutePosition();this._targetBoundingCenter?t.addToRef(this._targetBoundingCenter,this._target):this._target.copyFrom(t)}var i=this._getLockedTargetPosition();return i||this._target},e.prototype.storeState=function(){return this._storedAlpha=this.alpha,this._storedBeta=this.beta,this._storedRadius=this.radius,this._storedTarget=this._getTargetPosition().clone(),this._storedTargetScreenOffset=this.targetScreenOffset.clone(),o.prototype.storeState.call(this)},e.prototype._restoreStateValues=function(){return o.prototype._restoreStateValues.call(this)?(this.setTarget(this._storedTarget.clone()),this.alpha=this._storedAlpha,this.beta=this._storedBeta,this.radius=this._storedRadius,this.targetScreenOffset=this._storedTargetScreenOffset.clone(),this.inertialAlphaOffset=0,this.inertialBetaOffset=0,this.inertialRadiusOffset=0,this.inertialPanningX=0,this.inertialPanningY=0,!0):!1},e.prototype._isSynchronizedViewMatrix=function(){return o.prototype._isSynchronizedViewMatrix.call(this)?this._cache._target.equals(this._getTargetPosition())&&this._cache.alpha===this.alpha&&this._cache.beta===this.beta&&this._cache.radius===this.radius&&this._cache.targetScreenOffset.equals(this.targetScreenOffset):!1},e.prototype.attachControl=function(t,i,a,n){var s=this;a===void 0&&(a=!0),n===void 0&&(n=2);var h=arguments;i=A.BackCompatCameraNoPreventDefault(h),this._useCtrlForPanning=a,this._panningMouseButton=n,typeof h[0]=="boolean"&&(h.length>1&&(this._useCtrlForPanning=h[1]),h.length>2&&(this._panningMouseButton=h[2])),this.inputs.attachElement(i),this._reset=function(){s.inertialAlphaOffset=0,s.inertialBetaOffset=0,s.inertialRadiusOffset=0,s.inertialPanningX=0,s.inertialPanningY=0}},e.prototype.detachControl=function(){this.inputs.detachElement(),this._reset&&this._reset()},e.prototype._checkInputs=function(){if(!this._collisionTriggered){if(this.inputs.checkInputs(),this.inertialAlphaOffset!==0||this.inertialBetaOffset!==0||this.inertialRadiusOffset!==0){var t=this.invertRotation?-1:1,i=this.inertialAlphaOffset;this.beta<=0&&(i*=-1),this.getScene().useRightHandedSystem&&(i*=-1),this.parent&&this.parent._getWorldMatrixDeterminant()<0&&(i*=-1),this.alpha+=i*t,this.beta+=this.inertialBetaOffset*t,this.radius-=this.inertialRadiusOffset,this.inertialAlphaOffset*=this.inertia,this.inertialBetaOffset*=this.inertia,this.inertialRadiusOffset*=this.inertia,Math.abs(this.inertialAlphaOffset)<y&&(this.inertialAlphaOffset=0),Math.abs(this.inertialBetaOffset)<y&&(this.inertialBetaOffset=0),Math.abs(this.inertialRadiusOffset)<this.speed*y&&(this.inertialRadiusOffset=0)}if(this.inertialPanningX!==0||this.inertialPanningY!==0){var a=new u(this.inertialPanningX,this.inertialPanningY,this.inertialPanningY);if(this._viewMatrix.invertToRef(this._cameraTransformMatrix),a.multiplyInPlace(this.panningAxis),u.TransformNormalToRef(a,this._cameraTransformMatrix,this._transformedDirection),(this.mapPanning||!this.panningAxis.y)&&(this._transformedDirection.y=0),!this._targetHost)if(this.panningDistanceLimit){this._transformedDirection.addInPlace(this._target);var n=u.DistanceSquared(this._transformedDirection,this.panningOriginTarget);n<=this.panningDistanceLimit*this.panningDistanceLimit&&this._target.copyFrom(this._transformedDirection)}else this._target.addInPlace(this._transformedDirection);this.inertialPanningX*=this.panningInertia,this.inertialPanningY*=this.panningInertia,Math.abs(this.inertialPanningX)<this.speed*y&&(this.inertialPanningX=0),Math.abs(this.inertialPanningY)<this.speed*y&&(this.inertialPanningY=0)}this._checkLimits(),o.prototype._checkInputs.call(this)}},e.prototype._checkLimits=function(){this.lowerBetaLimit===null||this.lowerBetaLimit===void 0?this.allowUpsideDown&&this.beta>Math.PI&&(this.beta=this.beta-2*Math.PI):this.beta<this.lowerBetaLimit&&(this.beta=this.lowerBetaLimit),this.upperBetaLimit===null||this.upperBetaLimit===void 0?this.allowUpsideDown&&this.beta<-Math.PI&&(this.beta=this.beta+2*Math.PI):this.beta>this.upperBetaLimit&&(this.beta=this.upperBetaLimit),this.lowerAlphaLimit!==null&&this.alpha<this.lowerAlphaLimit&&(this.alpha=this.lowerAlphaLimit),this.upperAlphaLimit!==null&&this.alpha>this.upperAlphaLimit&&(this.alpha=this.upperAlphaLimit),this.lowerRadiusLimit!==null&&this.radius<this.lowerRadiusLimit&&(this.radius=this.lowerRadiusLimit,this.inertialRadiusOffset=0),this.upperRadiusLimit!==null&&this.radius>this.upperRadiusLimit&&(this.radius=this.upperRadiusLimit,this.inertialRadiusOffset=0)},e.prototype.rebuildAnglesAndRadius=function(){this._position.subtractToRef(this._getTargetPosition(),this._computationVector),(this._upVector.x!==0||this._upVector.y!==1||this._upVector.z!==0)&&u.TransformCoordinatesToRef(this._computationVector,this._upToYMatrix,this._computationVector),this.radius=this._computationVector.length(),this.radius===0&&(this.radius=1e-4);var t=this.alpha;this._computationVector.x===0&&this._computationVector.z===0?this.alpha=Math.PI/2:this.alpha=Math.acos(this._computationVector.x/Math.sqrt(Math.pow(this._computationVector.x,2)+Math.pow(this._computationVector.z,2))),this._computationVector.z<0&&(this.alpha=2*Math.PI-this.alpha);var i=Math.round((t-this.alpha)/(2*Math.PI));this.alpha+=i*2*Math.PI,this.beta=Math.acos(this._computationVector.y/this.radius),this._checkLimits()},e.prototype.setPosition=function(t){this._position.equals(t)||(this._position.copyFrom(t),this.rebuildAnglesAndRadius())},e.prototype.setTarget=function(t,i,a,n){var s;if(i===void 0&&(i=!1),a===void 0&&(a=!1),n===void 0&&(n=!1),n=(s=this.overrideCloneAlphaBetaRadius)!==null&&s!==void 0?s:n,t.getBoundingInfo)i?this._targetBoundingCenter=t.getBoundingInfo().boundingBox.centerWorld.clone():this._targetBoundingCenter=null,t.computeWorldMatrix(),this._targetHost=t,this._target=this._getTargetPosition(),this.onMeshTargetChangedObservable.notifyObservers(this._targetHost);else{var h=t,p=this._getTargetPosition();if(p&&!a&&p.equals(h))return;this._targetHost=null,this._target=h,this._targetBoundingCenter=null,this.onMeshTargetChangedObservable.notifyObservers(null)}n||this.rebuildAnglesAndRadius()},e.prototype._getViewMatrix=function(){var t=Math.cos(this.alpha),i=Math.sin(this.alpha),a=Math.cos(this.beta),n=Math.sin(this.beta);n===0&&(n=1e-4),this.radius===0&&(this.radius=1e-4);var s=this._getTargetPosition();if(this._computationVector.copyFromFloats(this.radius*t*n,this.radius*a,this.radius*i*n),(this._upVector.x!==0||this._upVector.y!==1||this._upVector.z!==0)&&u.TransformCoordinatesToRef(this._computationVector,this._yToUpMatrix,this._computationVector),s.addToRef(this._computationVector,this._newPosition),this.getScene().collisionsEnabled&&this.checkCollisions){var h=this.getScene().collisionCoordinator;this._collider||(this._collider=h.createCollider()),this._collider._radius=this.collisionRadius,this._newPosition.subtractToRef(this._position,this._collisionVelocity),this._collisionTriggered=!0,h.getNewPosition(this._position,this._collisionVelocity,this._collider,3,null,this._onCollisionPositionChange,this.uniqueId)}else{this._position.copyFrom(this._newPosition);var p=this.upVector;this.allowUpsideDown&&n<0&&(p=p.negate()),this._computeViewMatrix(this._position,s,p),this._viewMatrix.addAtIndex(12,this.targetScreenOffset.x),this._viewMatrix.addAtIndex(13,this.targetScreenOffset.y)}return this._currentTarget=s,this._viewMatrix},e.prototype.zoomOn=function(t,i){i===void 0&&(i=!1),t=t||this.getScene().meshes;var a=L.MinMax(t),n=u.Distance(a.min,a.max);this.radius=n*this.zoomOnFactor,this.focusOn({min:a.min,max:a.max,distance:n},i)},e.prototype.focusOn=function(t,i){i===void 0&&(i=!1);var a,n;if(t.min===void 0){var s=t||this.getScene().meshes;a=L.MinMax(s),n=u.Distance(a.min,a.max)}else{var h=t;a=h,n=h.distance}this._target=L.Center(a),i||(this.maxZ=n*2)},e.prototype.createRigCamera=function(t,i){var a=0;switch(this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:case _.RIG_MODE_VR:a=this._cameraRigParams.stereoHalfAngle*(i===0?1:-1);break;case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:a=this._cameraRigParams.stereoHalfAngle*(i===0?-1:1);break}var n=new e(t,this.alpha+a,this.beta,this.radius,this._target,this.getScene());return n._cameraRigParams={},n.isRigCamera=!0,n.rigParent=this,n.upVector=this.upVector,n.mode=this.mode,n.orthoLeft=this.orthoLeft,n.orthoRight=this.orthoRight,n.orthoBottom=this.orthoBottom,n.orthoTop=this.orthoTop,n},e.prototype._updateRigCameras=function(){var t=this._rigCameras[0],i=this._rigCameras[1];switch(t.beta=i.beta=this.beta,this.cameraRigMode){case _.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case _.RIG_MODE_STEREOSCOPIC_OVERUNDER:case _.RIG_MODE_STEREOSCOPIC_INTERLACED:case _.RIG_MODE_VR:t.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle,i.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle;break;case _.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:t.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle,i.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle;break}o.prototype._updateRigCameras.call(this)},e.prototype.dispose=function(){this.inputs.clear(),o.prototype.dispose.call(this)},e.prototype.getClassName=function(){return"ArcRotateCamera"},c([l()],e.prototype,"alpha",void 0),c([l()],e.prototype,"beta",void 0),c([l()],e.prototype,"radius",void 0),c([l()],e.prototype,"overrideCloneAlphaBetaRadius",void 0),c([D("target")],e.prototype,"_target",void 0),c([N("targetHost")],e.prototype,"_targetHost",void 0),c([l()],e.prototype,"inertialAlphaOffset",void 0),c([l()],e.prototype,"inertialBetaOffset",void 0),c([l()],e.prototype,"inertialRadiusOffset",void 0),c([l()],e.prototype,"lowerAlphaLimit",void 0),c([l()],e.prototype,"upperAlphaLimit",void 0),c([l()],e.prototype,"lowerBetaLimit",void 0),c([l()],e.prototype,"upperBetaLimit",void 0),c([l()],e.prototype,"lowerRadiusLimit",void 0),c([l()],e.prototype,"upperRadiusLimit",void 0),c([l()],e.prototype,"inertialPanningX",void 0),c([l()],e.prototype,"inertialPanningY",void 0),c([l()],e.prototype,"pinchToPanMaxDistance",void 0),c([l()],e.prototype,"panningDistanceLimit",void 0),c([D()],e.prototype,"panningOriginTarget",void 0),c([l()],e.prototype,"panningInertia",void 0),c([l()],e.prototype,"zoomToMouseLocation",null),c([l()],e.prototype,"zoomOnFactor",void 0),c([H()],e.prototype,"targetScreenOffset",void 0),c([l()],e.prototype,"allowUpsideDown",void 0),c([l()],e.prototype,"useInputToRestoreState",void 0),e}(at);export{ht as ArcRotateCamera};
