import"./@babylonjscore_Materials.00e32dae.js";import{a as n}from"./tslibtslib.b6e59fa7.js";import{S as a,s as m,e as u,b as s}from"./@babylonjscore_Misc.d81f49ec.js";import{c as p}from"./@babylonjscore_Maths.f3ef132c.js";import{E as h}from"./@babylonjscore_Engines.7287f97a.js";(function(){function e(t){this._texture=null,this._isEnabled=!0,this.isEnabled=!0,this.time=0,t=t||h.LastCreatedScene,t&&(this._scene=t,this.animationParameters=new p(0,0,0,30))}return e.prototype._markSubMeshesAsAttributesDirty=function(){for(var t=0,i=this._scene.meshes;t<i.length;t++){var r=i[t];r.bakedVertexAnimationManager===this&&r._markSubMeshesAsAttributesDirty()}},e.prototype.bind=function(t,i){if(i===void 0&&(i=!1),!(!this._texture||!this._isEnabled)){var r=this._texture.getSize();t.setFloat2("bakedVertexAnimationTextureSizeInverted",1/r.width,1/r.height),t.setFloat("bakedVertexAnimationTime",this.time),i||t.setVector4("bakedVertexAnimationSettings",this.animationParameters),t.setTexture("bakedVertexAnimationTexture",this._texture)}},e.prototype.clone=function(){var t=new e(this._scene);return this.copyTo(t),t},e.prototype.setAnimationParameters=function(t,i,r,o){r===void 0&&(r=0),o===void 0&&(o=30),this.animationParameters=new p(t,i,r,o)},e.prototype.dispose=function(t){var i;t&&((i=this._texture)===null||i===void 0||i.dispose())},e.prototype.getClassName=function(){return"BakedVertexAnimationManager"},e.prototype.copyTo=function(t){a.Clone(function(){return t},this)},e.prototype.serialize=function(){return a.Serialize(this)},e.prototype.parse=function(t,i,r){var o=this;a.Parse(function(){return o},t,i,r)},n([m(),u("_markSubMeshesAsAttributesDirty")],e.prototype,"texture",void 0),n([s(),u("_markSubMeshesAsAttributesDirty")],e.prototype,"isEnabled",void 0),n([s()],e.prototype,"animationParameters",void 0),n([s()],e.prototype,"time",void 0),e})();
